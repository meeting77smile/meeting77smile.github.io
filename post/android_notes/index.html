<!doctype html>
<html
  lang="zh-cn" 
  data-theme-mode="auto"
  >
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/><title>
  Android笔记 | meeting_smile
</title>
<meta
  name="description"
  content="未来一定是要笑着谈的(*≧▽≦)ツ"
/><script>
  window.siteConfig = JSON.parse("{\"anchor_icon\":null,\"base\":\"http://localhost:1313/\",\"clipboard\":{\"copyright\":{\"count\":50,\"enable\":false,\"license_type\":\"by-nc-sa\"},\"fail\":{\"en\":\"Copy failed (ﾟ⊿ﾟ)ﾂ\",\"ja\":\"コピー失敗 (ﾟ⊿ﾟ)ﾂ\",\"zh-cn\":\"复制失败 (ﾟ⊿ﾟ)ﾂ\",\"zh-tw\":\"複製失敗 (ﾟ⊿ﾟ)ﾂ\"},\"success\":{\"en\":\"Copy successfully (*^▽^*)\",\"ja\":\"コピー成功 (*^▽^*)\",\"zh-cn\":\"复制成功 (*^▽^*)\",\"zh-tw\":\"複製成功 (*^▽^*)\"}},\"code_block\":{\"expand\":true},\"icon_font\":\"4552607_0khxww3tj3q9\",\"outdate\":{\"daysago\":180,\"enable\":false,\"message\":{\"en\":\"This article was last updated on {time}. Please note that the content may no longer be applicable.\",\"ja\":\"この記事は最終更新日：{time}。記載内容が現在有効でない可能性がありますのでご注意ください。\",\"zh-cn\":\"本文最后更新于 {time}，请注意文中内容可能已不适用。\",\"zh-tw\":\"本文最後更新於 {time}，請注意文中內容可能已不適用。\"}}}");
  
</script>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  as="style"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
  media="print"
  onload="this.media='all'"
/>
<link
    rel="preload"
    href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  /><link rel="stylesheet" href="/css/loader.css" />
<meta property="og:type" content="website" />
  <meta property="og:title" content="Android笔记 | meeting_smile" />
  <meta
    property="og:description"
    content="未来一定是要笑着谈的(*≧▽≦)ツ"
  />
  <meta property="og:url" content="http://localhost:1313/post/android_notes/" />
  <meta
    property="og:site_name"
    content="meeting_smile&#39;s blog"
  />
  <meta
    property="og:image"
    content="https://img2.baidu.com/it/u=2940854202,2684708212&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=800&amp;h=800"
  />
  <meta property="article:author" content="meeting_smile" />
  <meta property="article:published_time" content="2024-11-23T11:54:00-07:00" />
  <meta property="article:modified_time" content="2025-05-23T11:00:00-07:00" /><meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://img2.baidu.com/it/u=2940854202,2684708212&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=800&amp;h=800" />
<link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/main.css" />
<link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css"
    integrity="sha384-IfxC36XL/toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei&#43;Zx/1oA/0l8ysE" crossorigin="anonymous"onload="this.onload=null;this.rel='stylesheet'"
  /><link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/katex@0.16.11/dist/katex.min.css"
    integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm&#43;ZU03BU6SQNC66uf4l5&#43;" crossorigin="anonymous"onload="this.onload=null;this.rel='stylesheet'"
  /><script
    src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js"
    integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"></script><link
    rel="stylesheet"
    href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css"
    integrity="sha384-4NN3fZ5AokFyHuoihl7A9qWaCt&#43;HsAtOaUsXwJGRb4/SMBtFr2vcNSHR5E8dg0Wk" crossorigin="anonymous"/></head>
  <body><div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi rotate"><svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
            <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)" />
            <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
          M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)" />
          </svg></div><div class="loading-word">马上就好~</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script><div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>
<div id="lang-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
本文章没有找到对应的语言版本
</div><div id="container">
      <div id="wrap"><div id="header-nav">
  <nav id="main-nav"><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/">首页</a>
      </span><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/archives">归档</a>
      </span><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/about">关于</a>
      </span><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/friend">友链</a>
      </span><a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav"><a id="nav-search-btn" class="nav-icon popup-trigger" title="搜索"></a></nav></div>
<header id="header"><picture></picture>
    <img crossorigin="anonymous" fetchpriority="high" src="https://img2.baidu.com/it/u=2940854202,2684708212&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=800&amp;h=800" alt="Android笔记"><div id="header-outer">
    <div id="header-title"><a href="/" id="logo">
            <h1 data-aos="slide-up">Android笔记</h1>
          </a><h2 id="subtitle-wrap" data-aos="slide-down"></h2></div>
  </div>
</header><div id="content"
          
          class="sidebar-right"  ><aside id="sidebar"><div class="sidebar-wrapper wrap-sticky">
    <div
      class="sidebar-wrap"
      data-aos="fade-up"
    ><div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#安卓基础">安卓基础</a></li>
    <li><a href="#学习前的声明">学习前的声明</a>
      <ul>
        <li><a href="#1-语言要求">1. 语言要求</a></li>
        <li><a href="#2-设置主界面">2. 设置主界面</a></li>
        <li><a href="#3-java代码的说明">3. Java代码的说明</a></li>
        <li><a href="#4-修改虚拟机的底部导航栏">4. 修改虚拟机的底部导航栏</a></li>
        <li><a href="#5-新建moule模块">5. 新建Moule(模块)</a></li>
        <li><a href="#6-文件的命名">6. 文件的命名</a></li>
        <li><a href="#7-文件的建立">7. 文件的建立</a></li>
      </ul>
    </li>
    <li><a href="#1-简单控件">1. 简单控件</a>
      <ul>
        <li><a href="#11-文本显示">1.1 文本显示</a></li>
        <li><a href="#12-视图基础">1.2 视图基础</a></li>
        <li><a href="#13-常用布局">1.3 常用布局</a></li>
        <li><a href="#14-按钮控件button">1.4 按钮控件Button</a></li>
        <li><a href="#16-项目实践简单计算器">1.6 项目实践：简单计算器</a></li>
      </ul>
    </li>
    <li><a href="#2--activity活动">2.  Activity活动</a>
      <ul>
        <li><a href="#21-启停活动页面">2.1 启停活动页面</a></li>
        <li><a href="#22-在活动之间传递消息">2.2 在活动之间传递消息</a></li>
        <li><a href="#23-为活动补充附加信息">2.3 为活动补充附加信息</a></li>
      </ul>
    </li>
    <li><a href="#3-中级控件">3. 中级控件</a>
      <ul>
        <li><a href="#31-图形定制">3.1 图形定制</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div></div>
          <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="meeting_smile"
    class="lazyload"
  />
  <div class="sidebar-author-name">meeting_smile</div>
  <div class="sidebar-description">未来一定是要笑着谈的(*≧▽≦)ツ</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div><div class="sidebar-state-number">8</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">0</div>
  </div>
</div>
<div class="sidebar-social"></div>
<div class="sidebar-menu"><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">首页</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">归档</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">关于</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">友链</div>
    </div></div>
</div><div class="sidebar-btn-wrapper" style="position:static">
            <div class="sidebar-toc-btn current"></div>
            <div class="sidebar-common-btn"></div>
          </div></div>
  </div>

  <div class="sidebar-widget"></div></aside>
<section id="main"><article
  class="h-entry article"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <div
    class="article-inner"
    data-aos="fade-up"
  >
    <div class="article-meta"><div class="article-date">
  <span
    class="article-date-link"
    data-aos="zoom-in"
  >
    <time datetime="2024-11-23 11:54:00 -0700 -0700" itemprop="datePublished"
      >2024-11-23</time
    >
    <time style="display: none;" id="post-update-time"
      >2025-05-23</time
    >
  </span>
</div>
<div class="article-category"></div>
</div>
    <div class="hr-line"></div><div class="e-content article-entry" itemprop="articleBody"><h2 id="安卓基础">
<a class="header-anchor" href="#%e5%ae%89%e5%8d%93%e5%9f%ba%e7%a1%80"></a>
安卓基础
</h2><h2 id="学习前的声明">
<a class="header-anchor" href="#%e5%ad%a6%e4%b9%a0%e5%89%8d%e7%9a%84%e5%a3%b0%e6%98%8e"></a>
学习前的声明
</h2><h3 id="1-语言要求">
<a class="header-anchor" href="#1-%e8%af%ad%e8%a8%80%e8%a6%81%e6%b1%82"></a>
1. 语言要求
</h3><ul>
<li>本次学习用到的语言为<!-- raw HTML omitted -->Java<!-- raw HTML omitted -->。（<!-- raw HTML omitted -->Kotlin<!-- raw HTML omitted -->虽然为Android官方推荐语言，但Java与Kotlin的关系类似于C与C++的关系，学好了Java，便能比较快地上手Kotlin）</li>
</ul>
<h3 id="2-设置主界面">
<a class="header-anchor" href="#2-%e8%ae%be%e7%bd%ae%e4%b8%bb%e7%95%8c%e9%9d%a2"></a>
2. 设置主界面
</h3><ul>
<li>
<p>在<!-- raw HTML omitted -->AndroidManifest.xml<!-- raw HTML omitted -->文件中，在如图所示的位置改为想要作为主界面的的java文件名（注意别忘了名称开头要加点）</p>
<p>注意：若需要<!-- raw HTML omitted -->运行多个界面<!-- raw HTML omitted -->，若程序会跳转到多个界面，则也应该将需要运行的多个Activity的java文件名写在AndroidManifest . xml文件中。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-04%20231000.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="3-java代码的说明">
<a class="header-anchor" href="#3-java%e4%bb%a3%e7%a0%81%e7%9a%84%e8%af%b4%e6%98%8e"></a>
3. Java代码的说明
</h3><ul>
<li>
<p>注意：实例中所给的代码最好<!-- raw HTML omitted -->别全部复制<!-- raw HTML omitted -->，需要看清代码的内容再<!-- raw HTML omitted -->选择进行复制<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>图中所示代码上方的类名&quot;ButtonStyleActivity&quot;与<!-- raw HTML omitted -->Java文件名<!-- raw HTML omitted -->相同，读者在复制代码时需将其改<!-- raw HTML omitted -->为自己的对应的Java文件名<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><!-- raw HTML omitted -->setContentView<!-- raw HTML omitted -->中的<!-- raw HTML omitted -->R<!-- raw HTML omitted -->指的是resource（资源），图中的activity_button_style是<!-- raw HTML omitted -->layout文件夹里的xml文件的文件名<!-- raw HTML omitted -->（注意：xml文件的文件名一般都为<!-- raw HTML omitted -->小写<!-- raw HTML omitted -->），其含义是将该<!-- raw HTML omitted -->xml文件<!-- raw HTML omitted -->设置为<!-- raw HTML omitted -->该Java文件的布局<!-- raw HTML omitted -->，读者在复制代码时也应该将其<!-- raw HTML omitted -->改为自己的xml文件名<!-- raw HTML omitted -->；</p>
</li>
<li>
<p>类似的，<!-- raw HTML omitted -->findViewById<!-- raw HTML omitted -->指的是<!-- raw HTML omitted -->通过id获得该视图<!-- raw HTML omitted -->，所以一般在xml文件中为视图定义了变量之后，若<!-- raw HTML omitted -->想在Java文件中使用，就需要用findViewById函数<!-- raw HTML omitted -->。图中<strong>tv_result = findViewById(R.id.tv_result)</strong> 语句中，<!-- raw HTML omitted -->左边<!-- raw HTML omitted -->的tv_result是在<!-- raw HTML omitted -->Java文件中的变量名<!-- raw HTML omitted -->，类型为TextView（由于示例图片中其被设置为了全局变量，故类型省略），<!-- raw HTML omitted -->右边<!-- raw HTML omitted -->的tv_result是<!-- raw HTML omitted -->xml文件中给视图组件定义的id<!-- raw HTML omitted -->。（注意：二者名称不一定得相同，只是此时为了易于识别才采取了相同的变量名）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20155735.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="4-修改虚拟机的底部导航栏">
<a class="header-anchor" href="#4-%e4%bf%ae%e6%94%b9%e8%99%9a%e6%8b%9f%e6%9c%ba%e7%9a%84%e5%ba%95%e9%83%a8%e5%af%bc%e8%88%aa%e6%a0%8f"></a>
4. 修改虚拟机的底部导航栏
</h3><ul>
<li>
<p>首先将在虚拟机的桌面中下滑，即可找到<!-- raw HTML omitted -->设置<!-- raw HTML omitted -->选项：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20194843.png?raw=true" alt=""></p>
</li>
<li>
<p>接着在搜索中输入<!-- raw HTML omitted -->Button navigation<!-- raw HTML omitted --></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20194934.png?raw=true" alt=""></p>
</li>
<li>
<p>最后在所给的几种类型中选择想要的底部导航类型</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20195009.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="5-新建moule模块">
<a class="header-anchor" href="#5-%e6%96%b0%e5%bb%bamoule%e6%a8%a1%e5%9d%97"></a>
5. 新建Moule(模块)
</h3><ul>
<li>
<p>一个Moule可简单理解为一个应用，在左侧栏显示为一个文件夹，如图中划线部分即为一个Module：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20183020.png?raw=true" alt=""></p>
</li>
<li>
<p>新建方法:</p>
<ul>
<li>
<p>首先，点击此处，并选择&quot;<!-- raw HTML omitted -->project<!-- raw HTML omitted -->&quot;：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20183242.png?raw=true" alt=""></p>
</li>
</ul>
</li>
<li>
<p>接着，在如图所所示的位置（文件名不一定与图中相同）右键后，点击&quot;New&quot;，点击Module即进行新建Module。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20183501.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="6-文件的命名">
<a class="header-anchor" href="#6-%e6%96%87%e4%bb%b6%e7%9a%84%e5%91%bd%e5%90%8d"></a>
6. 文件的命名
</h3><ul>
<li>
<p>在学习过程中建议<!-- raw HTML omitted -->采取示例代码里的文件名称<!-- raw HTML omitted -->，这样便可以顺便学习<!-- raw HTML omitted -->规范的文件命名<!-- raw HTML omitted -->方式，并且能够使得文件名<!-- raw HTML omitted -->容易读懂<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>xml文件名和java文件名均可在示例代码中找到：</p>
<p>如图中的1、2分别为<!-- raw HTML omitted -->java文件名<!-- raw HTML omitted -->和<!-- raw HTML omitted -->xml文件名<!-- raw HTML omitted -->。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-21%20204748.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="7-文件的建立">
<a class="header-anchor" href="#7-%e6%96%87%e4%bb%b6%e7%9a%84%e5%bb%ba%e7%ab%8b"></a>
7. 文件的建立
</h3><ul>
<li>
<p>java文件的建立</p>
<p>在如图所示位置<!-- raw HTML omitted -->右键<!-- raw HTML omitted -->,选择<!-- raw HTML omitted -->New<!-- raw HTML omitted -->，选择<!-- raw HTML omitted -->Java Class<!-- raw HTML omitted -->：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-21%20205121.png?raw=true" alt=""></p>
</li>
<li>
<p>xml文件的建立</p>
<p>在学习过程中新建的xml文件多为布局文件，布局文件均放在res/layout目录下。（若无layout文件夹，请自行在res文件夹中创建）</p>
<p>在如图所示位置<!-- raw HTML omitted -->右键<!-- raw HTML omitted -->,选择<!-- raw HTML omitted -->New<!-- raw HTML omitted -->，选择<!-- raw HTML omitted -->Layout Resource File<!-- raw HTML omitted -->:</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-21%20205204.png?raw=true" alt=""></p>
</li>
</ul>
<h2 id="1-简单控件">
<a class="header-anchor" href="#1-%e7%ae%80%e5%8d%95%e6%8e%a7%e4%bb%b6"></a>
1. 简单控件
</h2><h3 id="11-文本显示">
<a class="header-anchor" href="#11-%e6%96%87%e6%9c%ac%e6%98%be%e7%a4%ba"></a>
1.1 文本显示
</h3><h4 id="111-设置文本内容">
<a class="header-anchor" href="#111-%e8%ae%be%e7%bd%ae%e6%96%87%e6%9c%ac%e5%86%85%e5%ae%b9"></a>
1.1.1 设置文本内容
</h4><p>有两种方式：</p>
<ol>
<li>
<p><strong>在XML文件中通过属性android:text设置文本</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_test&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;设置文本内容&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
</ol>
<p>(其中<!-- raw HTML omitted -->android:id=&quot;@+id/tv_test<!-- raw HTML omitted -->&quot; 是为第二种方法做准备)</p>
<ol start="2">
<li>
<p><strong>在Java代码中调用文本视图对象(TextView)的setText方法设置文本</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestViewActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_test_view</span>);
</span></span><span style="display:flex;"><span>        TextView tv_test<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_test</span>);
</span></span><span style="display:flex;"><span>        tv_test.<span style="color:#a6e22e">setText</span>(R.<span style="color:#a6e22e">string</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ol>
<p>（其中，<!-- raw HTML omitted -->View tv<!-- raw HTML omitted -->为文本试图为视图对象；R.string.test可用&quot;设置文本内容&quot;代替。但为了方便同时修改一个值，还是用R.string.test方法合适，并在strings.xml文件中加上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">&gt;</span>设置文本内容&#34;<span style="color:#f92672">&lt;/string&gt;</span>
</span></span></code></pre></div><h4 id="112-设置字体大小">
<a class="header-anchor" href="#112-%e8%ae%be%e7%bd%ae%e5%ad%97%e4%bd%93%e5%a4%a7%e5%b0%8f"></a>
1.1.2 设置字体大小
</h4><p>类似的，也有两种方式：</p>
<p>1.<strong>在XML文件中通过属性android:textSize设置文本（要带单位）</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>其中，字号单位有三种：</p>
<ul>
<li>
<p><strong>px</strong>(PiXel像素)：是手机屏幕的最小显示单位，与设备的显示屏有关。</p>
</li>
<li>
<p><strong>dp</strong>：指的是与设备无关的显示单位，只与屏幕的尺寸有关。对于相同分辨率的手机，屏幕越大，相同DP的组件占用的屏幕比例越小；对于<strong>相同尺寸</strong>的手机，即使分辨率不同，<strong>相同DP</strong>的组件<strong>占用的屏幕比例也相同</strong>。</p>
</li>
<li>
<p><strong>sp</strong>：原理与dp类似，但它是<!-- raw HTML omitted -->专门用于设置字体大小<!-- raw HTML omitted -->的。当在<!-- raw HTML omitted -->手机系统调整字体大小<!-- raw HTML omitted -->时，<!-- raw HTML omitted -->只有以sp<!-- raw HTML omitted -->为单位的字体的<!-- raw HTML omitted -->大小会变化<!-- raw HTML omitted -->，<!-- raw HTML omitted -->px和dp<!-- raw HTML omitted -->则<!-- raw HTML omitted -->不会改变<!-- raw HTML omitted -->。</p>
</li>
</ul>
<ol start="2">
<li>
<p><strong>在Java代码中调用文本视图对象的setTextSize方法设置</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TextView tv_test<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_test</span>);
</span></span><span style="display:flex;"><span>tv_test.<span style="color:#a6e22e">setTextSize</span>(30);
</span></span></code></pre></div><p>此时设置字体大小不用带单位，默认以sp为单位(说明官方推荐以sp作为字体的单位)</p>
</li>
</ol>
<h4 id="113-设置字体颜色">
<a class="header-anchor" href="#113-%e8%ae%be%e7%bd%ae%e5%ad%97%e4%bd%93%e9%a2%9c%e8%89%b2"></a>
1.1.3 设置字体颜色
</h4><p>也有两种方式：</p>
<ol>
<li><strong>在XML文件中通过属性android:textColor设置文本</strong>：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#FF000000&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>或者：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><ol start="2">
<li>
<p><strong>在Java代码中调用文本视图对象(TextView)的setBackgroundColor方法或setBackgroundResource方法设置文本</strong>:</p>
<ul>
<li>
<p><strong>setBackgroundColor方法(使用系统自带的颜色)：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TextView tv_test<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_test</span>);
</span></span><span style="display:flex;"><span>tv_test.<span style="color:#a6e22e">setBackgroundColor</span>(Color.<span style="color:#a6e22e">GREEN</span>);
</span></span></code></pre></div></li>
<li>
<p><strong>setBackgroundResource方法(使用xml文件中自定义的颜色)：</strong></p>
<p>先在&quot; <!-- raw HTML omitted -->colors.xml<!-- raw HTML omitted --> &ldquo;文件中定义&quot;green&rdquo;：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;color</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;green&#34;</span><span style="color:#f92672">&gt;</span>#4CAF50<span style="color:#f92672">&lt;/color&gt;</span>
</span></span></code></pre></div><p>接着在java文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TextView tv_test<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_test</span>);
</span></span><span style="display:flex;"><span>tv_test.<span style="color:#a6e22e">setBackgroundResource</span>(R.<span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">green</span>);
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>补充：<strong>使用八位十六进制数表示颜色</strong>的注意事项：</p>
<ul>
<li>
<p><strong>含义</strong>：以八位编码#FFEEDDCC为例，FF表示透明度，EE表示红色的浓度，DD表示绿色的浓度，CC表示蓝色的浓度。</p>
</li>
<li>
<p><strong>数值</strong>含义：透明度从FF到00，透明度逐渐增大；其他的RGB三色数值越大，表示颜色越浓，也就是越亮。</p>
</li>
<li>
<p>也可以用省略前两位数字，<!-- raw HTML omitted -->用六位十六进制数表示<!-- raw HTML omitted -->颜色。在<!-- raw HTML omitted -->xml文件中默认前两位为FF<!-- raw HTML omitted -->，也就是完全不透明；在<!-- raw HTML omitted -->java文件中默认前两位为00<!-- raw HTML omitted -->，也就是完全透明。</p>
</li>
</ul>
</li>
</ol>
<h3 id="12-视图基础">
<a class="header-anchor" href="#12-%e8%a7%86%e5%9b%be%e5%9f%ba%e7%a1%80"></a>
1.2 视图基础
</h3><h4 id="121-设置视图的宽高">
<a class="header-anchor" href="#121-%e8%ae%be%e7%bd%ae%e8%a7%86%e5%9b%be%e7%9a%84%e5%ae%bd%e9%ab%98"></a>
1.2.1 设置视图的宽高
</h4><ol>
<li>
<p><strong>在XML文件中通过属性android:layout设置</strong></p>
<p>其中，宽高的取值主要有以下三种：</p>
<ul>
<li>
<p><strong>match_parent</strong>：表示与上级试图一致。</p>
</li>
<li>
<p><strong>warp_content</strong>：表示与内容自适应。</p>
</li>
<li>
<p><strong>以dp为单位</strong>的具体尺寸。</p>
</li>
</ul>
</li>
<li>
<p><strong>在Java代码中调用文本视图对象(TextView)的getLayoutParams方法和setLayoutParams方法设置文本</strong>：</p>
<p>首先确保XML文件的宽高属性值为<strong>wrap_content</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_code&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;通过代码指定试图宽度&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00ffff&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>接着在JAVA文件中依次执行以下三个步骤：</p>
<ul>
<li>
<p>调用控件对象的getLayoutParams方法，获取该控件的布局参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TextView tv_code <span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_code</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//获取tv_code的布局参数(含宽度和高度)</span>
</span></span><span style="display:flex;"><span>ViewGroup.<span style="color:#a6e22e">LayoutParams</span> params <span style="color:#f92672">=</span> tv_code.<span style="color:#a6e22e">getLayoutParams</span>();
</span></span></code></pre></div></li>
<li>
<p>修改布局参数的<!-- raw HTML omitted -->width属性值<!-- raw HTML omitted -->。</p>
<ul>
<li>
<p>首先在原先的java文件所在的com.example文件夹中新建一个java类，并输入以下代码完成dp与px的换算。示例中以&quot;Utils&quot;命名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Utils</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">static</span>  <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dip2px</span>(Context context, <span style="color:#66d9ef">float</span> dpvalue){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//获取当前手机的像素密度(1个dp对应几个px)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> scale <span style="color:#f92672">=</span>context.<span style="color:#a6e22e">getResources</span>().<span style="color:#a6e22e">getDisplayMetrics</span>().<span style="color:#a6e22e">density</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//四舍五入取整</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">int</span>)(dpvalue <span style="color:#f92672">*</span> scale <span style="color:#f92672">+</span>0.<span style="color:#a6e22e">5f</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>接着在原来的java文件中（如此时将宽度设置为300dp）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//此处params.width默认的单位是像素px，故此时需要将单位dp利用公式换算成px：</span>
</span></span><span style="display:flex;"><span>params.<span style="color:#a6e22e">width</span><span style="color:#f92672">=</span>Utils.<span style="color:#a6e22e">dip2px</span>(<span style="color:#66d9ef">this</span>,300);
</span></span></code></pre></div></li>
<li>
<p>最后调用控件对象的setLayoutParams方法，填入修改后的布局参数即可生效。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//设置tv_code的布局参数</span>
</span></span><span style="display:flex;"><span>tv_code.<span style="color:#a6e22e">setLayoutParams</span>(params);
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="122-设置视图的间距">
<a class="header-anchor" href="#122-%e8%ae%be%e7%bd%ae%e8%a7%86%e5%9b%be%e7%9a%84%e9%97%b4%e8%b7%9d"></a>
1.2.2 设置视图的间距
</h4><p>可在<strong>XML文件</strong>中改变两种属性：</p>
<ul>
<li>
<p><strong>layout_margin</strong> 属性（设置外间距），它指定了当前视图与周围<!-- raw HTML omitted -->同级<!-- raw HTML omitted -->视图之间的距离，包括<strong>layout_margin</strong> , <strong>layout_marginLeft</strong> , <strong>layout_marginRight</strong> , <strong>layout_marginTop</strong> , <strong>layout_marginBottom</strong>等属性。</p>
</li>
<li>
<p><strong>padding</strong> 属性（设置内间距），它指定了当前视图与内部<!-- raw HTML omitted -->下级<!-- raw HTML omitted -->视图之间的距离 , 包括<strong>padding</strong> , <strong>paddingLeft</strong> , <strong>paddingTop</strong> , <strong>paddingRight</strong> , <strong>paddingBottom</strong>等属性。</p>
<p>代码示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--最外层的布局背景为蓝色--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;300dp&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00AAFF&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--中间层的布局背景为黄色--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FFFF99&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_margin=</span><span style="color:#e6db74">&#34;20dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;60dp&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!--最内层的视图背景为红色和绿色--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;50dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;50dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FF0000&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;50dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;50dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00FF22&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_marginLeft=</span><span style="color:#e6db74">&#34;100dp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div><p>其中，中间层的<!-- raw HTML omitted -->Linearout<!-- raw HTML omitted -->与内层的<!-- raw HTML omitted -->View<!-- raw HTML omitted -->是<strong>上级和下级视图</strong>的关系，故应该在Linearout里设置<!-- raw HTML omitted -->padding属性<!-- raw HTML omitted --> ；内层的两个<!-- raw HTML omitted -->view<!-- raw HTML omitted -->是<strong>同级视图</strong>的关系，故可在其中一个view中设置<!-- raw HTML omitted -->layout_margin属性<!-- raw HTML omitted -->。</p>
<p><strong>注意：</strong> 当设置的视图大小与间距属性<!-- raw HTML omitted -->冲突<!-- raw HTML omitted -->时（如设置padding属性时，内部视图的大小超过了外部视图，则会<!-- raw HTML omitted -->优先考虑视图间距属性<!-- raw HTML omitted -->。)</p>
<p>最终效果：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/20240921212601.png?raw=true" alt=""></p>
</li>
</ul>
<h4 id="123-设置视图的对齐方式">
<a class="header-anchor" href="#123-%e8%ae%be%e7%bd%ae%e8%a7%86%e5%9b%be%e7%9a%84%e5%af%b9%e9%bd%90%e6%96%b9%e5%bc%8f"></a>
1.2.3 设置视图的对齐方式
</h4><p>类似的，在<!-- raw HTML omitted -->XML文件<!-- raw HTML omitted -->中也有两种属性：</p>
<ul>
<li>
<p><strong>layout_gravity</strong> 属性，它指定了<!-- raw HTML omitted -->当前视图相对于上级视图<!-- raw HTML omitted -->的对齐方式。</p>
</li>
<li>
<p><strong>gravity</strong> 属性，它指定了<!-- raw HTML omitted -->下级视图相对于当前视图<!-- raw HTML omitted -->的对齐方式。</p>
<p>二者的取值包括：<!-- raw HTML omitted -->left<!-- raw HTML omitted --> , <!-- raw HTML omitted -->right<!-- raw HTML omitted --> , <!-- raw HTML omitted -->bottom<!-- raw HTML omitted -->  , <!-- raw HTML omitted -->top <!-- raw HTML omitted -->。</p>
<p>还可以用<!-- raw HTML omitted -->竖线 “ | ” 同时取值<!-- raw HTML omitted -->，例如 <strong>letf|top</strong> 表示既靠左又靠上，也就是朝左上角对齐。此外，此方式<!-- raw HTML omitted -->没有顺序要求<!-- raw HTML omitted -->，即此时 top|left也有相同的效果。</p>
<p>代码示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--最外层的布局背景为蓝色--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;600dp&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;horizontal&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FFFF99&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--第一个子布局背景为红色，它在上级视图中朝下对齐，它的下级视图则靠左上对齐--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_margin=</span><span style="color:#e6db74">&#34;10dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#F44336&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_gravity=</span><span style="color:#e6db74">&#34;bottom&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;10dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;left|top&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00BCD4&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;/LinearLayout</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--第二个子布局背景为红色，它在上级视图中朝上对齐，它的下级视图则靠右下对齐--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_margin=</span><span style="color:#e6db74">&#34;10dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#F44336&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_gravity=</span><span style="color:#e6db74">&#34;top&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;10dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;right|bottom&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00BCD4&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;/LinearLayout</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div><p>最终效果：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-21%20225822.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="13-常用布局">
<a class="header-anchor" href="#13-%e5%b8%b8%e7%94%a8%e5%b8%83%e5%b1%80"></a>
1.3 常用布局
</h3><h4 id="131-线性布局linearlayout">
<a class="header-anchor" href="#131-%e7%ba%bf%e6%80%a7%e5%b8%83%e5%b1%80linearlayout"></a>
1.3.1 线性布局LinearLayout
</h4><ul>
<li>
<p><strong>线性布局的排列方式(orientation)</strong></p>
<p>线性布局有两种排列方式，可通过改变LinearLayout中的<!-- raw HTML omitted -->orientation<!-- raw HTML omitted -->的属性值（不指定时默认为水平排列）：</p>
<ul>
<li>
<p><strong>水平排列</strong>：设置属性值为horizontal ，使得内部视图从左往右排列。</p>
</li>
<li>
<p><strong>垂直排列</strong>：设置属性值为vertical ，使得内部视图从上往下排列。</p>
</li>
</ul>
</li>
<li>
<p><strong>线性布局的权重(layout_weight)</strong></p>
<p>指的是线性布局的下级视图各自拥有<!-- raw HTML omitted -->多大比例的宽高<!-- raw HTML omitted -->（当个视图所占的比例=其权重/同级视图的权重和）。</p>
<p>权重属性<!-- raw HTML omitted -->layout_weight<!-- raw HTML omitted --> 不在<strong>layout_weight</strong> 节点设置，而在线性布局的直接下级视图设置。</p>
<ul>
<li>
<p>当<strong>layout_width</strong>为<!-- raw HTML omitted -->0dp<!-- raw HTML omitted --> 时，layout_weight表示<!-- raw HTML omitted -->水平方向<!-- raw HTML omitted -->的宽度比例。</p>
</li>
<li>
<p>当<strong>layout_height</strong>为0dp 时，layout_weight表示<!-- raw HTML omitted -->垂直方向<!-- raw HTML omitted -->的宽度比例。</p>
</li>
</ul>
</li>
<li>
<p>代码示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;horizontal&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;横排第一个&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#00BCD4&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;横排第二个&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#E91E63&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;横排第三个&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#8BC34A&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;竖排第一个&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FFC107&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;竖排第二个&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;30dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FF5722&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div><p>此时横排的<!-- raw HTML omitted -->TextView<!-- raw HTML omitted --> 视图各占<!-- raw HTML omitted -->三分之一<!-- raw HTML omitted -->，竖排的分别占<!-- raw HTML omitted -->三分之二<!-- raw HTML omitted -->和<!-- raw HTML omitted -->三分之一<!-- raw HTML omitted -->。</p>
<p>横排的<!-- raw HTML omitted -->TextView<!-- raw HTML omitted --> 视图由于均为<!-- raw HTML omitted -->水平排列<!-- raw HTML omitted -->，且均把<!-- raw HTML omitted -->layout_width设置为0dp<!-- raw HTML omitted -->，故此时layout_weight表示<!-- raw HTML omitted -->水平方向的宽度比例<!-- raw HTML omitted -->；竖排同理。</p>
<p>最终效果：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20182310.png?raw=true" alt=""></p>
</li>
</ul>
<h4 id="132-相对布局relativelayout">
<a class="header-anchor" href="#132-%e7%9b%b8%e5%af%b9%e5%b8%83%e5%b1%80relativelayout"></a>
1.3.2 相对布局RelativeLayout
</h4><ul>
<li>
<p><strong>RelativeLayout</strong>的<!-- raw HTML omitted -->下级视图的位置<!-- raw HTML omitted -->可由其他视图的位置决定（若不设定则<!-- raw HTML omitted -->默认<!-- raw HTML omitted -->显示在RelativeLayout内部的<!-- raw HTML omitted -->左上角<!-- raw HTML omitted -->）。用于确定下级视图位置的<!-- raw HTML omitted -->参照物<!-- raw HTML omitted -->有两种：</p>
<ul>
<li>
<p>与该下级视图平级的视图。</p>
</li>
<li>
<p>该视图的上级视图（即它归属的RelativeLayout）。</p>
</li>
</ul>
</li>
<li>
<p><strong>RelativeLayout的属性</strong></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20190511.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>代码示例</strong></p>
<ul>
<li>
<p><strong>以上级视图为参照物(属性值为true或false)</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;RelativeLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;我在中间&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_centerInParent=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_topleft&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;我在左上角&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_alignParentLeft=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_alignParentTop=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_bottomright&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;我在右下角&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_alignParentRight=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_alignParentBottom=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/RelativeLayout&gt;</span>
</span></span></code></pre></div><p>效果图：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20191223.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>与该下级视图平级的视图为参照物(属性值为作为参照物的同级视图的id)</strong></p>
<ul>
<li>
<p>易错：如向将一个视图设置在其<!-- raw HTML omitted -->平级视图的左边<!-- raw HTML omitted -->时，<!-- raw HTML omitted -->不应只设置layout_toLeftOf<!-- raw HTML omitted -->属性，否则会出现这种情况：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;RelativeLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_centerInParent=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;我在中间&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_left&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;同级视图左边&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_toLeftOf=</span><span style="color:#e6db74">&#34;@id/tv_center&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/RelativeLayout&gt;</span>
</span></span></code></pre></div><p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20192524.png?raw=true" alt=""></p>
<p>所以应该再设置<!-- raw HTML omitted -->layout_above(在参照物的左上方)<!-- raw HTML omitted -->或<!-- raw HTML omitted -->layout_below(在参照物的右上方)<!-- raw HTML omitted -->属性:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;RelativeLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;100dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_centerInParent=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;我在中间&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_left&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;同级视图左边&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_toLeftOf=</span><span style="color:#e6db74">&#34;@id/tv_center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_above=</span><span style="color:#e6db74">&#34;@id/tv_center&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/RelativeLayout&gt;</span>
</span></span></code></pre></div><p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20192944.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="133-网格布局gridlayout">
<a class="header-anchor" href="#133-%e7%bd%91%e6%a0%bc%e5%b8%83%e5%b1%80gridlayout"></a>
1.3.3 网格布局GridLayout
</h4><ul>
<li>
<p>网格布局支持多行多列的表格排列。</p>
</li>
<li>
<p>网格布局默认从左往右、从上到下排列，其主要有两个属性：</p>
<ul>
<li>
<p><strong>columnCount属性</strong>：它指定了<!-- raw HTML omitted -->网格的列数<!-- raw HTML omitted -->，即<!-- raw HTML omitted -->每行能放多少个视图<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>rowCount属性</strong>：它指定了<!-- raw HTML omitted -->网格的行数<!-- raw HTML omitted -->，即<!-- raw HTML omitted -->每列能放多少个视图<!-- raw HTML omitted -->。</p>
</li>
</ul>
</li>
<li>
<p>代码示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;GridLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:columnCount=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:rowCount=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;60dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#F6E0E0&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;粉色&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;60dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FF9800&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;橙色&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;60dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#08FF00&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;绿色&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;60dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#8000FF&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;深紫色&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;16dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>\
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/GridLayout&gt;</span>
</span></span></code></pre></div><p>注意：</p>
<ol>
<li>
<p>为了使<!-- raw HTML omitted -->字体在视图中间<!-- raw HTML omitted -->，需要用到先前学的<!-- raw HTML omitted -->gravity属性<!-- raw HTML omitted -->(字体text为当前视图TextView组件的<!-- raw HTML omitted -->下级视图<!-- raw HTML omitted -->)。</p>
</li>
<li>
<p>为了使得<!-- raw HTML omitted -->每列<!-- raw HTML omitted -->的TextView视图均占GridLayou<!-- raw HTML omitted -->t视图的一半<!-- raw HTML omitted -->，需要用到先前学的<!-- raw HTML omitted -->权重属性<!-- raw HTML omitted -->，但GridLayout里的权重名称变成了<!-- raw HTML omitted -->layout_columnWeight<!-- raw HTML omitted -->和<!-- raw HTML omitted -->layout_rowWeight<!-- raw HTML omitted -->，分别修改<!-- raw HTML omitted -->列和行<!-- raw HTML omitted -->的视图的权重。</p>
</li>
</ol>
</li>
<li>
<p>最终结果</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-23%20202259.png?raw=true" alt=""></p>
</li>
</ul>
<h4 id="134-滚动视图scrollview">
<a class="header-anchor" href="#134-%e6%bb%9a%e5%8a%a8%e8%a7%86%e5%9b%bescrollview"></a>
1.3.4 滚动视图ScrollView
</h4><p>当下级视图的大小超出屏幕或当前视图时，可以使用滚动视图来滑动。有两种滚动视图：</p>
<ul>
<li>
<p><strong>ScrollView</strong></p>
<p>它是<!-- raw HTML omitted -->垂直方向<!-- raw HTML omitted -->的滚动视图；当需要垂直方向的滚动时，它的<!-- raw HTML omitted -->layout_width<!-- raw HTML omitted -->的属性值需要设置为<!-- raw HTML omitted -->match_parent<!-- raw HTML omitted -->，<!-- raw HTML omitted -->layout_height<!-- raw HTML omitted -->属性值需要设置为<!-- raw HTML omitted -->wrap_content<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>HorizontalScrollView</strong></p>
<p>它是<!-- raw HTML omitted -->水平方向<!-- raw HTML omitted -->的滚动视图；当需要水平方向的滚动时，它的<!-- raw HTML omitted -->layout_width<!-- raw HTML omitted -->的属性值需要设置为<!-- raw HTML omitted -->wrap_parent<!-- raw HTML omitted -->，<!-- raw HTML omitted -->layout_height<!-- raw HTML omitted -->属性值需要设置为<!-- raw HTML omitted -->match_content<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>代码示例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;HorizontalScrollView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;horizontal&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;300dp&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#aaffff&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;300dp&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#ffff00&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/HorizontalScrollView&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ScrollView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;400dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#2196F3&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;400dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#FF5722&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/ScrollView&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div><p>此时HorizontalScrollView里的两个TextView的<!-- raw HTML omitted -->宽度<!-- raw HTML omitted -->加起来<!-- raw HTML omitted -->太大<!-- raw HTML omitted -->了，故<!-- raw HTML omitted -->需要用到HorizontalScrollView<!-- raw HTML omitted -->；ScrollView里的两个TextView的<!-- raw HTML omitted -->高度加起来太大<!-- raw HTML omitted -->了，故<!-- raw HTML omitted -->需要用到ScrollView<!-- raw HTML omitted -->；</p>
<p>最终效果：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-24%20135648.png?raw=true" alt=""></p>
</li>
</ul>
<h3 id="14-按钮控件button">
<a class="header-anchor" href="#14-%e6%8c%89%e9%92%ae%e6%8e%a7%e4%bb%b6button"></a>
1.4 按钮控件Button
</h3><ul>
<li>
<p><!-- raw HTML omitted -->Button是TextView的子类<!-- raw HTML omitted -->，因此它<!-- raw HTML omitted -->也是一种视图<!-- raw HTML omitted -->。(而<!-- raw HTML omitted -->TextView是View的子类<!-- raw HTML omitted -->)。Button与TextView的<!-- raw HTML omitted -->区别<!-- raw HTML omitted -->主要有：</p>
<ul>
<li>
<p><!-- raw HTML omitted -->Button有默认的按钮背景颜色<!-- raw HTML omitted -->，而TextView则没有。</p>
</li>
<li>
<p><!-- raw HTML omitted -->Button的内部文本默认居中对齐<!-- raw HTML omitted -->，而TextView的内部文本默认靠左上角对齐。</p>
</li>
</ul>
</li>
</ul>
<h4 id="141-新增属性">
<a class="header-anchor" href="#141-%e6%96%b0%e5%a2%9e%e5%b1%9e%e6%80%a7"></a>
1.4.1 新增属性
</h4><ul>
<li>
<p>与TextView相比，Button新增了两个属性：</p>
<ul>
<li>
<p><strong>textAllCaps属性</strong></p>
<p>它指定了<!-- raw HTML omitted -->是否将英文字母全部转为大写<!-- raw HTML omitted -->，为<!-- raw HTML omitted -->true<!-- raw HTML omitted -->表示转为<!-- raw HTML omitted -->大写<!-- raw HTML omitted -->，为<!-- raw HTML omitted -->false<!-- raw HTML omitted -->则<!-- raw HTML omitted -->不做大写转换<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>onClick属性</strong></p>
<p>它用来接管用户的点击动作，其<!-- raw HTML omitted -->属性值<!-- raw HTML omitted -->是<!-- raw HTML omitted -->点击按钮时触发的方法<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>代码示例：</p>
<ul>
<li>
<p>首先，在xml文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;下面的按钮默认英文为原样：&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;Hello World!&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;下面的按钮设置英文为大写：&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;Hello World!&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_marginTop=</span><span style="color:#e6db74">&#34;50sp&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;直接指定点击方法&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:onClick=</span><span style="color:#e6db74">&#34;doclick&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_result&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;这里显示按钮的点击结果&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>为了实现”直接指定直接方法“按钮的点击按钮则出现语句的功能，还需要在java文件中写上:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.compose.ui.text.TextRange;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.chapter03.util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ButtonStyleActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_result;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_button_style</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//（涉及生命周期知识）选择在中创建tv_result：tv_result创建在onCreat中,findViewById（该语句）只需要执行一次；若创建在doclick中，则是每点击一次执行一次，太麻烦了</span>
</span></span><span style="display:flex;"><span>        tv_result <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);<span style="color:#75715e">//按下Ctrl+Alt+f之后，再按下回车键，将tv_result从局部变量设置为全局变量</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doclick</span>(View v){
</span></span><span style="display:flex;"><span>        String desc <span style="color:#f92672">=</span>String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(),((Button) v).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>        tv_result.<span style="color:#a6e22e">setText</span>(desc);<span style="color:#75715e">//显示的时间不是现实时间，而是虚拟机里的时间</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>接着再新建一个名为DateUtil（名字可任意）的java文件，在里面写上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03.util;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.text.SimpleDateFormat;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Date;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DateUtil</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">getNowTime</span>(){
</span></span><span style="display:flex;"><span>        SimpleDateFormat sdf <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleDateFormat(<span style="color:#e6db74">&#34;HH:mm:ss&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sdf.<span style="color:#a6e22e">format</span>(<span style="color:#66d9ef">new</span> Date());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>最终效果：</p>
<p>点击前：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-24%20164522.png?raw=true" alt=""></p>
<p>点击后：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-24%20164655.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="142-点击事件">
<a class="header-anchor" href="#142-%e7%82%b9%e5%87%bb%e4%ba%8b%e4%bb%b6"></a>
1.4.2 点击事件
</h4><ul>
<li>
<p>补充知识点：<strong>监听器</strong>是专门<!-- raw HTML omitted -->监听控件的动作行为<!-- raw HTML omitted -->，只有控件发生了指定的动作<!-- raw HTML omitted -->，监听器<!-- raw HTML omitted -->才会<!-- raw HTML omitted -->触发开关去执行<!-- raw HTML omitted -->对应的代码逻辑。</p>
</li>
<li>
<p>点击监听器（<!-- raw HTML omitted -->OnClickListener<!-- raw HTML omitted -->）通过<!-- raw HTML omitted -->setOnClickListenrt方法(View的一个内部接口)<!-- raw HTML omitted -->设置。按钮<!-- raw HTML omitted -->被按住少于500毫秒<!-- raw HTML omitted -->时<!-- raw HTML omitted -->才会触发<!-- raw HTML omitted -->点击事件。</p>
</li>
<li>
<p><strong>实现</strong>点击事件有<strong>两种常用方法</strong></p>
<ul>
<li>
<p>首先现在xml文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_click_single&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;设置单独的点击监听器&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;15sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_click_public&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;设置公共的点击监听器&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;15sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_result&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;15sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;这里查看按钮的点击结果&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
</ul>
<p>接着在java文件中：</p>
<ul>
<li>
<p><strong>法一</strong>：<!-- raw HTML omitted -->新建一个类<!-- raw HTML omitted -->MyOnClickListener（名称可自定义）来<!-- raw HTML omitted -->实例化OnClickListener<!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.chapter03.util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ButtonClickActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> TextView tv_result;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_button_click</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_click_single</span>);
</span></span><span style="display:flex;"><span>        tv_result <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);
</span></span><span style="display:flex;"><span>        Button btn_click_single <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_click_single</span>);
</span></span><span style="display:flex;"><span>        btn_click_single.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> MyOnClickListener());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyOnClickListener</span> <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span>{<span style="color:#75715e">//1.当监听到按钮被点击</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//2.就执行该回调方法</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View v) {<span style="color:#75715e">//注意别漏了实现该接口的抽象方法</span>
</span></span><span style="display:flex;"><span>            String desc <span style="color:#f92672">=</span>String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(),((Button) v).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>            tv_result.<span style="color:#a6e22e">setText</span>(desc);<span style="color:#75715e">//在My0nClickListener类里使用tv_result有两点要注意</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//1.要在My0nClickListener类对着tv_result按下Ctrl+Alt+f，将其设置全局变量</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//2.由于My0nClickListener类是static（静态）的，而tv_result不是静态的，因此需要将tv_result也设置为静态的：private static TextView tv_result</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>最终效果（当点击第一个按钮时有反应，点击第二个没反应）</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-24%20210939.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>法二</strong>：用<!-- raw HTML omitted -->当前activity的类<!-- raw HTML omitted -->(此时为ButtonClickActivity)来实例化<!-- raw HTML omitted -->OnClickListener<!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.chapter03.util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ButtonClickActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> TextView tv_result;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_button_click</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_click_public</span>);
</span></span><span style="display:flex;"><span>        tv_result <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);
</span></span><span style="display:flex;"><span>        Button btn_click_public <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_click_public</span>);
</span></span><span style="display:flex;"><span>        btn_click_public.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);<span style="color:#75715e">//this指当前activity(ButtonClickActivity)的实例</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_click_public</span>){
</span></span><span style="display:flex;"><span>            String desc <span style="color:#f92672">=</span>String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“，并通过当前的类ButtonClickActivity实现&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(),((Button) view).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>            tv_result.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>最终效果（当点击第二个按钮时有反应，点击第一个没反应）</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-09-24%20211312.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
<h4 id="143-长按点击事件">
<a class="header-anchor" href="#143-%e9%95%bf%e6%8c%89%e7%82%b9%e5%87%bb%e4%ba%8b%e4%bb%b6"></a>
1.4.3 长按点击事件
</h4><ul>
<li>
<p>长按监听器（<!-- raw HTML omitted -->OnLongClickListener<!-- raw HTML omitted -->）通过<!-- raw HTML omitted -->setOnLongClickListenrt方法<!-- raw HTML omitted -->设置。按钮被按住<!-- raw HTML omitted -->大于等于500毫秒<!-- raw HTML omitted -->时<!-- raw HTML omitted -->才会触发<!-- raw HTML omitted --> 长按点击事件。</p>
</li>
<li>
<p>实现长按点击事件（包括上述的点击事件），除了上述两种方法之外，还有第三种方法，那就用匿名内部类的方式：</p>
<ul>
<li>
<p>首先在xml文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_long_click&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;设置长按点击监听器&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;15sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_result&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#000000&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;15sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;这里查看按钮的点击结果&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>接着在java文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.chapter03.util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ButtonLongClickActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_button_long_click</span>);
</span></span><span style="display:flex;"><span>        TextView tv_result<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);
</span></span><span style="display:flex;"><span>        Button btn_long_click<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_long_click</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//用匿名内部类的方式：</span>
</span></span><span style="display:flex;"><span>        btn_long_click.<span style="color:#a6e22e">setOnLongClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnLongClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onLongClick</span>(View view) {
</span></span><span style="display:flex;"><span>                String desc <span style="color:#f92672">=</span>String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“，并通过匿名类实现&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(),((Button) view).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>                tv_result.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><!-- raw HTML omitted -->onLongClick函数的返回值<!-- raw HTML omitted -->的说明：若<!-- raw HTML omitted -->当前长按按钮控件<!-- raw HTML omitted -->之外还<!-- raw HTML omitted -->有一个带有长按按钮的父容器<!-- raw HTML omitted -->时，若返回值为<!-- raw HTML omitted -->true<!-- raw HTML omitted -->，则<!-- raw HTML omitted -->当前<!-- raw HTML omitted -->长按按钮控件会<!-- raw HTML omitted -->消耗（触发）点击事件<!-- raw HTML omitted -->而<!-- raw HTML omitted -->不会往外传<!-- raw HTML omitted -->给父容器；若返回值为<!-- raw HTML omitted -->false<!-- raw HTML omitted -->时，则<!-- raw HTML omitted -->当前<!-- raw HTML omitted -->长按按钮控件自身<!-- raw HTML omitted -->不会消耗<!-- raw HTML omitted -->（触发）点击事件，而是<!-- raw HTML omitted -->传给父容器<!-- raw HTML omitted -->，由<!-- raw HTML omitted -->父容器来消耗<!-- raw HTML omitted -->（涉及到<!-- raw HTML omitted -->事件冒泡<!-- raw HTML omitted -->知识，感兴趣可自行了解）</p>
<p>此外，jdk 8版本以上还可以将new View.OnLongClickListener()方法用<!-- raw HTML omitted -->lambda表达式<!-- raw HTML omitted -->来替换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>btn_long_click.<span style="color:#a6e22e">setOnLongClickListener</span>(view <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>    String desc <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“，并通过匿名类实现&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(), ((Button) view).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>    tv_result.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span></code></pre></div><p>最终效果：当点击按钮超过300毫秒时才有反应</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-03%20214517.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
<h4 id="144-禁用与恢复按钮">
<a class="header-anchor" href="#144-%e7%a6%81%e7%94%a8%e4%b8%8e%e6%81%a2%e5%a4%8d%e6%8c%89%e9%92%ae"></a>
1.4.4 禁用与恢复按钮
</h4><ul>
<li>
<p>在实际开发过程中（如点击按钮发送验证码给手机后60s内，无法再次点击按钮来发送验证码），<!-- raw HTML omitted -->按钮<!-- raw HTML omitted -->通常拥有<!-- raw HTML omitted -->两种状态<!-- raw HTML omitted -->，即<!-- raw HTML omitted -->不可用状态<!-- raw HTML omitted -->与<!-- raw HTML omitted -->可用状态<!-- raw HTML omitted -->，它们在<!-- raw HTML omitted -->外观和功能<!-- raw HTML omitted -->上的<!-- raw HTML omitted -->区别<!-- raw HTML omitted -->如下：</p>
<ul>
<li>
<p><strong>不可用按钮</strong>：按钮不允许点击，即按钮<!-- raw HTML omitted -->点击也没反应<!-- raw HTML omitted -->，且按钮<!-- raw HTML omitted -->文字为灰色<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>可用按钮</strong>：按钮允许点击，<!-- raw HTML omitted -->点击<!-- raw HTML omitted -->按钮会<!-- raw HTML omitted -->触发点击事件<!-- raw HTML omitted -->，同时按钮<!-- raw HTML omitted -->文字为正常的黑色<!-- raw HTML omitted -->。</p>
</li>
</ul>
</li>
<li>
<p>按钮是否允许点击由<!-- raw HTML omitted -->enabled属性<!-- raw HTML omitted -->控制，属性值为<!-- raw HTML omitted -->true<!-- raw HTML omitted -->时表示<!-- raw HTML omitted -->允许点击<!-- raw HTML omitted -->，为<!-- raw HTML omitted -->false<!-- raw HTML omitted -->时表示<!-- raw HTML omitted -->不允许点击<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>实例：</p>
<ul>
<li>
<p>首先，在xml文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;horizontal&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_enable&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;启用测试按钮&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_disable&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;禁用测试按钮&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_test&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;测试按钮&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;#888888&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:enabled=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_result&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;这里查看测试按钮的点击结果&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>接着，在java文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.graphics.Color;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.example.chapter03.util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ButtonEnableActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView btn_test;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_result;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tvResult;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button btnTest;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;WrongViewCast&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_bitton_enable</span>);
</span></span><span style="display:flex;"><span>        Button btn_enable <span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_enable</span>);
</span></span><span style="display:flex;"><span>        Button btn_disable <span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_disable</span>);
</span></span><span style="display:flex;"><span>        btn_test <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_test</span>);<span style="color:#75715e">//设置为全局变量：鼠标对着该变量名”btn_test“，再按下ctrl+alt+f，最后按下回车</span>
</span></span><span style="display:flex;"><span>        tv_result <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);<span style="color:#75715e">//设置为全局变量</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//设置点击事件</span>
</span></span><span style="display:flex;"><span>        btn_enable.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);<span style="color:#75715e">//设置公共的点击事件方法：将鼠标对着“this”,再按下alt+回车，最后再选择“mark...”选项</span>
</span></span><span style="display:flex;"><span>        btn_disable.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        btn_test.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//设置公共的点击事件</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//由于在此处还需使用btn_test与tv_result，故需要将二者设置为全局变量</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_enable</span>){
</span></span><span style="display:flex;"><span>            btn_test.<span style="color:#a6e22e">setEnabled</span>(<span style="color:#66d9ef">true</span>);<span style="color:#75715e">//启用当前控件</span>
</span></span><span style="display:flex;"><span>            btn_test.<span style="color:#a6e22e">setTextColor</span>(Color.<span style="color:#a6e22e">BLACK</span>);<span style="color:#75715e">//设置按钮的文字颜色</span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_disable</span>) {
</span></span><span style="display:flex;"><span>            btn_test.<span style="color:#a6e22e">setEnabled</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>            btn_test.<span style="color:#a6e22e">setTextColor</span>(Color.<span style="color:#a6e22e">GRAY</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_test</span>) {
</span></span><span style="display:flex;"><span>            String desc <span style="color:#f92672">=</span>String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;您在%s时点击了按钮：”%s“&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>(),((Button) view).<span style="color:#a6e22e">getText</span>());
</span></span><span style="display:flex;"><span>            tv_result.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>最终效果：</p>
<p>刚开始时：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-04%20235912.png?raw=true" alt=""></p>
<p>按下”启用按钮“按钮后：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-04%20235927.png?raw=true" alt=""></p>
<p>按下”测试按钮“后：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-04%20235938.png?raw=true" alt=""></p>
<p>按下”禁用测试按钮“后：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-04%20235949.png?raw=true" alt=""></p>
</li>
</ul>
<h4 id="15-图像显示">
<a class="header-anchor" href="#15-%e5%9b%be%e5%83%8f%e6%98%be%e7%a4%ba"></a>
1.5 图像显示
</h4><h4 id="151-图像视图imageview">
<a class="header-anchor" href="#151-%e5%9b%be%e5%83%8f%e8%a7%86%e5%9b%beimageview"></a>
1.5.1 图像视图ImageView
</h4><ul>
<li>
<p>图像视图展示的图片通常位于<!-- raw HTML omitted -->res/drawable目录<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><!-- raw HTML omitted -->设置图像视图<!-- raw HTML omitted -->的显示图片有<!-- raw HTML omitted -->两种方式<!-- raw HTML omitted -->（<!-- raw HTML omitted -->例子<!-- raw HTML omitted -->中的图片文件名为”<!-- raw HTML omitted -->img_test01<!-- raw HTML omitted -->“，且位于res/drawable目录）：</p>
<ul>
<li>
<p>在<!-- raw HTML omitted -->xml文件<!-- raw HTML omitted -->中，通过属性<!-- raw HTML omitted -->android:src<!-- raw HTML omitted -->设置图片资源，属性值格式形如”<!-- raw HTML omitted -->@drawable/不含拓展名的图片名称<!-- raw HTML omitted -->“。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ImageView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/iv_scale&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>在<!-- raw HTML omitted -->java代码<!-- raw HTML omitted -->中，使用<!-- raw HTML omitted -->setImageResource方法<!-- raw HTML omitted -->设置图片资源，方法参数格式形如”<!-- raw HTML omitted -->R.drawable.不含拓展名的图片名称<!-- raw HTML omitted -->“。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span>xml version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0&#34;</span> encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span><span style="color:#f92672">?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>LinearLayout xmlns:android<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    android:layout_width<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    android:layout_height<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>ImageView
</span></span><span style="display:flex;"><span>        android:id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;@+id/iv_scale&#34;</span>
</span></span><span style="display:flex;"><span>        android:layout_width<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        android:layout_height<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        android:scaleType<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;center&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>LinearLayout<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><strong>图像视图的缩放</strong></p>
<ul>
<li>
<p>ImageView本身默认图片居中显示（<!-- raw HTML omitted -->默认为fitCenter/FIT_CENTER<!-- raw HTML omitted -->类型)，若要改变图片的显示方式，可通过<!-- raw HTML omitted -->scaleType属性<!-- raw HTML omitted -->设定，该属性的取值说明如下：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-05%20210831.png?raw=true" alt=""></p>
</li>
<li>
<p>该部分可自行去试验。</p>
</li>
<li>
<p><!-- raw HTML omitted -->center<!-- raw HTML omitted -->、centerInside、fitCenter、centerCrop的<!-- raw HTML omitted -->区别<!-- raw HTML omitted --></p>
<ul>
<li>它们之间的区别在于：<!-- raw HTML omitted -->fitCenter<!-- raw HTML omitted -->既允许缩小图片，也允许放大图片；<!-- raw HTML omitted -->centerInside<!-- raw HTML omitted -->只允许缩小图片；<!-- raw HTML omitted -->center<!-- raw HTML omitted -->始终保持图片的原始尺寸（如果图片太大，则视图中只能显示图片的一部分），既不允许缩小图片，也不允许放大图片；<!-- raw HTML omitted -->centerCrope<!-- raw HTML omitted -->既可能缩小图片，也可能放大图片，最终结果是使得图片充满视图，可能使得图片宽高比例被改变。因此，当<!-- raw HTML omitted -->图片尺寸大于视图<!-- raw HTML omitted -->时，centerInside与fitCenter都会缩小图片，此时它俩的显示效果相同；当<!-- raw HTML omitted -->图片尺寸小于视图<!-- raw HTML omitted -->时，centerInside与center都会保持图片大小不变，此时它们的显示效果相同。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="152-图像按钮imagebutton">
<a class="header-anchor" href="#152-%e5%9b%be%e5%83%8f%e6%8c%89%e9%92%aeimagebutton"></a>
1.5.2 图像按钮ImageButton
</h4><ul>
<li>
<p><!-- raw HTML omitted -->ImageButton<!-- raw HTML omitted --> 是显示图片的图像按钮，它<!-- raw HTML omitted -->继承于ImageView<!-- raw HTML omitted -->，而非Button。</p>
</li>
<li>
<p><strong>ImageButton</strong>与<strong>ImageView</strong>之间的<strong>区别</strong>有：</p>
<ul>
<li>
<p><!-- raw HTML omitted -->ImageButton<!-- raw HTML omitted -->上的图像可<!-- raw HTML omitted -->按比例缩放<!-- raw HTML omitted -->，而<!-- raw HTML omitted -->Button<!-- raw HTML omitted -->通过背景设置的图像会<!-- raw HTML omitted -->拉伸变形<!-- raw HTML omitted -->，故<!-- raw HTML omitted -->通常<!-- raw HTML omitted -->图片按钮是通过<!-- raw HTML omitted -->ImageButton来实现<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><!-- raw HTML omitted -->Button<!-- raw HTML omitted -->只能靠背景<!-- raw HTML omitted -->显示一张图片<!-- raw HTML omitted -->，而<!-- raw HTML omitted -->ImageButton<!-- raw HTML omitted -->可分别在前景和背景显示图片，从而实现<!-- raw HTML omitted -->两张图片叠加<!-- raw HTML omitted -->的效果。</p>
</li>
<li>
<p>ImageButton<!-- raw HTML omitted -->有默认的按钮背景<!-- raw HTML omitted -->，ImageView<!-- raw HTML omitted -->默认无背景<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>ImageButton<!-- raw HTML omitted -->默认<!-- raw HTML omitted -->的缩放类型为<!-- raw HTML omitted -->center<!-- raw HTML omitted -->，而ImageView<!-- raw HTML omitted -->默认<!-- raw HTML omitted -->的缩放类型为<!-- raw HTML omitted -->fitCenter<!-- raw HTML omitted --></p>
</li>
<li>
<p>示例代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ImageButton</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:src=</span><span style="color:#e6db74">&#34;@drawable/img_test01&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:scaleType=</span><span style="color:#e6db74">&#34;fitCenter&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h4 id="153-同时展示文本与图像">
<a class="header-anchor" href="#153-%e5%90%8c%e6%97%b6%e5%b1%95%e7%a4%ba%e6%96%87%e6%9c%ac%e4%b8%8e%e5%9b%be%e5%83%8f"></a>
1.5.3 同时展示文本与图像
</h4><ul>
<li>
<p>同时展示文本与图像主要有<strong>两种方式</strong>：</p>
<ul>
<li>
<p>利用<!-- raw HTML omitted -->LinearLayout<!-- raw HTML omitted -->对I<!-- raw HTML omitted -->mageView和TextView<!-- raw HTML omitted -->进行<!-- raw HTML omitted -->组合布局<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>通过<!-- raw HTML omitted -->按钮控件Button<!-- raw HTML omitted -->的<!-- raw HTML omitted -->drawablexx属性<!-- raw HTML omitted -->来<!-- raw HTML omitted -->设置<!-- raw HTML omitted -->文本周围的<!-- raw HTML omitted -->图标<!-- raw HTML omitted -->。</p>
<ul>
<li>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-06%20223710.png?raw=true" alt=""></p>
</li>
<li>
<p>注意：通常<!-- raw HTML omitted -->按钮控件Button<!-- raw HTML omitted -->的背景默认为紫色且<!-- raw HTML omitted -->无法覆盖<!-- raw HTML omitted -->，所以<!-- raw HTML omitted -->需要进行以下操作<!-- raw HTML omitted -->：</p>
<ul>
<li>
<p>首先在&quot;AndroidMainfest.xml&quot;文件中，按下ctrl键后用鼠标点击如图圈出的位置：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-06%20224304.png?raw=true" alt=""></p>
</li>
<li>
<p>接着会进入“themes.xml&quot;文件中，将划线的位置改为图片中划线部分的代码：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-06%20224606.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="16-项目实践简单计算器">
<a class="header-anchor" href="#16-%e9%a1%b9%e7%9b%ae%e5%ae%9e%e8%b7%b5%e7%ae%80%e5%8d%95%e8%ae%a1%e7%ae%97%e5%99%a8"></a>
1.6 项目实践：简单计算器
</h3><p><!-- raw HTML omitted -->以下是示例代码：<!-- raw HTML omitted --></p>
<h4 id="161-values文件夹">
<a class="header-anchor" href="#161-values%e6%96%87%e4%bb%b6%e5%a4%b9"></a>
1.6.1 values文件夹
</h4><ul>
<li>
<p><strong>strings . xml文件</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;app_name&#34;</span><span style="color:#f92672">&gt;</span>MyApplication01<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">&gt;</span>设置文本内容&#34;<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;title_activity_linear_layout&#34;</span><span style="color:#f92672">&gt;</span>LinearLayoutActivity<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;simple_calculator&#34;</span><span style="color:#f92672">&gt;</span>简单计算器<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;cancle&#34;</span><span style="color:#f92672">&gt;</span>CE<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;clear&#34;</span><span style="color:#f92672">&gt;</span>C<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;plus&#34;</span><span style="color:#f92672">&gt;</span>+<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;minus&#34;</span><span style="color:#f92672">&gt;</span>-<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;divide&#34;</span><span style="color:#f92672">&gt;</span>÷<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;multiply&#34;</span><span style="color:#f92672">&gt;</span>×<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;one&#34;</span><span style="color:#f92672">&gt;</span>1<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;two&#34;</span><span style="color:#f92672">&gt;</span>2<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;three&#34;</span><span style="color:#f92672">&gt;</span>3<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;four&#34;</span><span style="color:#f92672">&gt;</span>4<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;five&#34;</span><span style="color:#f92672">&gt;</span>5<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;six&#34;</span><span style="color:#f92672">&gt;</span>6<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;seven&#34;</span><span style="color:#f92672">&gt;</span>7<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;eight&#34;</span><span style="color:#f92672">&gt;</span>8<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;nine&#34;</span><span style="color:#f92672">&gt;</span>9<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;zero&#34;</span><span style="color:#f92672">&gt;</span>0<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;dot&#34;</span><span style="color:#f92672">&gt;</span>.<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;equal&#34;</span><span style="color:#f92672">&gt;</span>=<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;sqrt&#34;</span><span style="color:#f92672">&gt;</span>sqrt<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;reciprocal&#34;</span><span style="color:#f92672">&gt;</span>1/x<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/resources&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>在<!-- raw HTML omitted -->values文件夹中<!-- raw HTML omitted -->再<!-- raw HTML omitted -->新建<!-- raw HTML omitted -->一个名为<!-- raw HTML omitted -->dimens . xml<!-- raw HTML omitted -->的文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dimen</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;button_font_size&#34;</span><span style="color:#f92672">&gt;</span>30sp<span style="color:#f92672">&lt;/dimen&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dimen</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;button_height&#34;</span><span style="color:#f92672">&gt;</span>80dp<span style="color:#f92672">&lt;/dimen&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/resources&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="162-layout文件夹">
<a class="header-anchor" href="#162-layout%e6%96%87%e4%bb%b6%e5%a4%b9"></a>
1.6.2 layout文件夹
</h4><ul>
<li>
<p><!-- raw HTML omitted -->新建<!-- raw HTML omitted -->一个名为<!-- raw HTML omitted -->activity_calculator . xml<!-- raw HTML omitted -->的文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#EEEEEE&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--用滚动视图可以避免某些型号手机的尺寸太小--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ScrollView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--计算器的名称--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;40dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/simple_calculator&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/white&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;20sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#03A9F4&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--显示的数字，这里最后加上的lines指高度为几行--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_result&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;@color/white&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;bottom|right&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/zero&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;25sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:lines=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;GridLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:rowCount=</span><span style="color:#e6db74">&#34;5&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:columnCount=</span><span style="color:#e6db74">&#34;4&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_cancle&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/cancle&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_divide&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/divide&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_mutiply&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/multiply&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_clear&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/clear&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_seven&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/seven&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_eight&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/eight&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_nine&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/nine&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_plus&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/plus&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_four&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/four&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_five&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/five&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_six&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/six&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_minus&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/minus&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_one&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/one&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_two&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/two&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_three&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/three&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_sqrt&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/sqrt&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_reciprocal&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/reciprocal&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_zero&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/zero&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_dot&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/dot&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_equal&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_columnWeight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;@dimen/button_height&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;@string/equal&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;@dimen/button_font_size&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:textAllCaps=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/GridLayout&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/ScrollView&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="163-java文件">
<a class="header-anchor" href="#163-java%e6%96%87%e4%bb%b6"></a>
1.6.3 java文件
</h4><ul>
<li>
<p><!-- raw HTML omitted -->新建<!-- raw HTML omitted -->一个名为<!-- raw HTML omitted -->CalculatorActivity . java<!-- raw HTML omitted -->的java文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.chapter03;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.w3c.dom.Text;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.sql.StatementEvent;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CalculatorActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_result;<span style="color:#75715e">//设置为类中的全局变量</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String firstNum <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//第一个操作数</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String operator <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//运算符</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String secondNum <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//第二个操作数</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String result <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//当前的计算结果</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String showText <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;0&#34;</span>;<span style="color:#75715e">//显示在计算器上的文本内容，不一定是单个数字或符号，可以是数字与符号组成的一大串</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_calculator</span>);
</span></span><span style="display:flex;"><span>        tv_result <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_result</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//下面给每个按钮控件都注册监听器（由于之后用不到按钮的变量，故无需再创建新的按钮控件变量）</span>
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_cancle</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_divide</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_mutiply</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_clear</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_nine</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_eight</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_seven</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_six</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_five</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_four</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_three</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_two</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_one</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_plus</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_minus</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_sqrt</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_reciprocal</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_zero</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_dot</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_equal</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        String inputText;<span style="color:#75715e">//按下按钮后输入的内容</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//将按钮对应的文本转化为字符串类型并赋值给inputText</span>
</span></span><span style="display:flex;"><span>        inputText <span style="color:#f92672">=</span> ((TextView) view).<span style="color:#a6e22e">getText</span>().<span style="color:#a6e22e">toString</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//用于未给按钮创建相应的变量，故需要R.id的方式</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_clear</span>){<span style="color:#75715e">//点击了清除按钮</span>
</span></span><span style="display:flex;"><span>            clear();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_cancle</span>) {<span style="color:#75715e">//点击了回退按钮</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;0&#34;</span>)){
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)){<span style="color:#75715e">//只有操作数1</span>
</span></span><span style="display:flex;"><span>                    firstNum<span style="color:#f92672">=</span>firstNum.<span style="color:#a6e22e">substring</span>(0,firstNum.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">-</span>1);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>secondNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)){
</span></span><span style="display:flex;"><span>                        secondNum<span style="color:#f92672">=</span>secondNum.<span style="color:#a6e22e">substring</span>(0,secondNum.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">-</span>1);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                refreshText(showText.<span style="color:#a6e22e">substring</span>(0,showText.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">-</span>1));
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_sqrt</span>) {<span style="color:#75715e">//点击了开平方根按钮</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>firstNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">double</span> calculate_result <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">sqrt</span>(Double.<span style="color:#a6e22e">parseDouble</span>(firstNum));
</span></span><span style="display:flex;"><span>                refreshOperate(String.<span style="color:#a6e22e">valueOf</span>(calculate_result));
</span></span><span style="display:flex;"><span>                refreshText(showText <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;√=&#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_plus</span> <span style="color:#f92672">||</span> view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_minus</span> <span style="color:#f92672">||</span> view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_mutiply</span> <span style="color:#f92672">||</span>view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_divide</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//点击了加减乘除按钮</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)) {
</span></span><span style="display:flex;"><span>                operator <span style="color:#f92672">=</span> inputText;
</span></span><span style="display:flex;"><span>                refreshText(showText <span style="color:#f92672">+</span> operator);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_reciprocal</span>) {<span style="color:#75715e">//点击了求倒数按钮</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>firstNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">double</span> calculate_result <span style="color:#f92672">=</span> 1.<span style="color:#a6e22e">0</span> <span style="color:#f92672">/</span> Double.<span style="color:#a6e22e">parseDouble</span>(firstNum);
</span></span><span style="display:flex;"><span>                refreshOperate(String.<span style="color:#a6e22e">valueOf</span>(calculate_result));
</span></span><span style="display:flex;"><span>                refreshText(<span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> showText <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;=&#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (view.<span style="color:#a6e22e">getId</span>()<span style="color:#f92672">==</span>R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_equal</span>) {<span style="color:#75715e">//点击了等号按钮</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)){
</span></span><span style="display:flex;"><span>                    refreshText(showText<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;=&#34;</span><span style="color:#f92672">+</span>showText);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">double</span> calculate_result <span style="color:#f92672">=</span> calculateFour();
</span></span><span style="display:flex;"><span>                    refreshOperate(String.<span style="color:#a6e22e">valueOf</span>(calculate_result));
</span></span><span style="display:flex;"><span>                    refreshText(showText <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;=&#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>{<span style="color:#75715e">//点击了数字或小数点</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;&#34;</span>)) {<span style="color:#75715e">//无运算符，则继续拼接第一个操作数（可连续拼接）</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>((firstNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>) <span style="color:#f92672">||</span>firstNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;0.&#34;</span>))<span style="color:#f92672">&amp;&amp;</span> inputText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>)){<span style="color:#75715e">//避免同时输入多个小数点</span>
</span></span><span style="display:flex;"><span>                        inputText<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>                        firstNum <span style="color:#f92672">=</span> firstNum <span style="color:#f92672">+</span> inputText;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {<span style="color:#75715e">//有运算符，继续拼接第二个操作数（可连续拼接）</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>((secondNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>) <span style="color:#f92672">||</span>secondNum.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;0.&#34;</span>)) <span style="color:#f92672">&amp;&amp;</span> inputText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>)){<span style="color:#75715e">//避免同时输入多个小数点</span>
</span></span><span style="display:flex;"><span>                        inputText<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>                        secondNum <span style="color:#f92672">=</span> secondNum <span style="color:#f92672">+</span> inputText;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;0&#34;</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>inputText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>)) {<span style="color:#75715e">//若当前显示的数字只有0，则输入的数字应该覆盖此0；但如果输入的是小数点，</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//则用户的目的可能是输入小数，此时不覆盖</span>
</span></span><span style="display:flex;"><span>                    refreshText(inputText);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (showText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;0&#34;</span>) <span style="color:#f92672">&amp;&amp;</span> inputText.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;.&#34;</span>)) {<span style="color:#75715e">//一开始时就按下小数点</span>
</span></span><span style="display:flex;"><span>                    firstNum<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;.&#34;</span>;
</span></span><span style="display:flex;"><span>                    refreshText(firstNum);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    refreshText(showText <span style="color:#f92672">+</span> inputText);<span style="color:#75715e">//写成”showText + “才能实现拼接的效果：是因为前面可能已经有数据了，即showtext（为该类中的全局变量，可存储值）可能已经有值了</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//清除文本显示</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">clear</span>() {
</span></span><span style="display:flex;"><span>        refreshOperate(<span style="color:#e6db74">&#34;&#34;</span>);<span style="color:#75715e">//顺便借助一下该函数，能把几个参与运算的变量同时清零</span>
</span></span><span style="display:flex;"><span>        refreshText(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//刷新运算结果，实现运算完之后的结果可以继续参与新的运算</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">refreshOperate</span>(String new_result) {
</span></span><span style="display:flex;"><span>        result <span style="color:#f92672">=</span> new_result;
</span></span><span style="display:flex;"><span>        firstNum<span style="color:#f92672">=</span>result;
</span></span><span style="display:flex;"><span>        secondNum<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//待输入，故为空</span>
</span></span><span style="display:flex;"><span>        operator<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;<span style="color:#75715e">//待输入，故为空</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//更新文本显示</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">refreshText</span>(String text){
</span></span><span style="display:flex;"><span>        showText <span style="color:#f92672">=</span> text;
</span></span><span style="display:flex;"><span>        tv_result.<span style="color:#a6e22e">setText</span>(showText);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//进行四则运算</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">calculateFour</span>(){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;+&#34;</span>)){<span style="color:#75715e">//parseDouble:将字符串类型转化为double类型</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Double.<span style="color:#a6e22e">parseDouble</span>(firstNum)<span style="color:#f92672">+</span>Double.<span style="color:#a6e22e">parseDouble</span>(secondNum);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;-&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Double.<span style="color:#a6e22e">parseDouble</span>(firstNum)<span style="color:#f92672">-</span>Double.<span style="color:#a6e22e">parseDouble</span>(secondNum);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;×&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Double.<span style="color:#a6e22e">parseDouble</span>(firstNum)<span style="color:#f92672">*</span>Double.<span style="color:#a6e22e">parseDouble</span>(secondNum);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (operator.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;÷&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Double.<span style="color:#a6e22e">parseDouble</span>(firstNum)<span style="color:#f92672">/</span>Double.<span style="color:#a6e22e">parseDouble</span>(secondNum);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> 0;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h4 id="164-最终效果">
<a class="header-anchor" href="#164-%e6%9c%80%e7%bb%88%e6%95%88%e6%9e%9c"></a>
1.6.4 最终效果
</h4><p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-09%20194406.png?raw=true" alt=""></p>
<h2 id="2--activity活动">
<a class="header-anchor" href="#2--activity%e6%b4%bb%e5%8a%a8"></a>
2.  Activity活动
</h2><p><!-- raw HTML omitted -->Activity<!-- raw HTML omitted -->（活动）其实是<!-- raw HTML omitted -->“安卓”系统的重要组件（组成部分）之一<!-- raw HTML omitted -->。Android<!-- raw HTML omitted -->四大组件<!-- raw HTML omitted -->有<!-- raw HTML omitted -->Activity活动<!-- raw HTML omitted -->，<!-- raw HTML omitted -->Service服务<!-- raw HTML omitted -->，<!-- raw HTML omitted -->Content Provider内容提供<!-- raw HTML omitted -->，<!-- raw HTML omitted -->BroadcastReceiver广播接收器<!-- raw HTML omitted -->。</p>
<p>一个Activity是一个应用程序的组件，通常一个Activity里会有一个页面，用户让用户来操作，完成如打电话、发短信、拍照等功能。目前我们<!-- raw HTML omitted -->先将Activity视为页面<!-- raw HTML omitted -->的意思<!-- raw HTML omitted -->即可<!-- raw HTML omitted -->。</p>
<h3 id="21-启停活动页面">
<a class="header-anchor" href="#21-%e5%90%af%e5%81%9c%e6%b4%bb%e5%8a%a8%e9%a1%b5%e9%9d%a2"></a>
2.1 启停活动页面
</h3><h4 id="211-activity的启动与结束">
<a class="header-anchor" href="#211-activity%e7%9a%84%e5%90%af%e5%8a%a8%e4%b8%8e%e7%bb%93%e6%9d%9f"></a>
2.1.1 Activity的启动与结束
</h4><p>以页面的跳转为例：</p>
<p>从<!-- raw HTML omitted -->当前页面跳转到另一个页面<!-- raw HTML omitted -->相对于启动了新页面，方法为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>intent.<span style="color:#a6e22e">setClass</span>(源页面.<span style="color:#a6e22e">this</span>,目标页面.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});
</span></span></code></pre></div><p>从从当前页面返回上一个页面，相对于关闭当前页面，代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>finish();
</span></span></code></pre></div><ul>
<li>
<p>第一个页面：ActStartActivity . java</p>
<ul>
<li>
<p>xml文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;这是第一个activity&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_act_next&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击跳转到下一个页面&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActStartActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_start</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_act_next</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>第二个页面：ActFinishActivity . java</p>
<ul>
<li>
<p>xml文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_act_back&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击返回上一个界面&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>java文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActFinishActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_finish</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_act_back</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_act_back</span>){
</span></span><span style="display:flex;"><span>            finish();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>由于需要运行两个页面，故需要在AndroidMainfest . xml文件中加上这个两个Activity的文件名：</p>
<p><img src="" alt=""></p>
</li>
</ul>
<h4 id="212-activity的生命周期">
<a class="header-anchor" href="#212-activity%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f"></a>
2.1.2 Activity的生命周期
</h4><ul>
<li>
<p><strong>示意图</strong></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20174753.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>各函数的含义</strong></p>
<ul>
<li>
<p><!-- raw HTML omitted -->onCreate<!-- raw HTML omitted --> ：<!-- raw HTML omitted -->创建活动<!-- raw HTML omitted -->。把页面布局加载进内存，进入<!-- raw HTML omitted -->初始状态<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onStart<!-- raw HTML omitted -->：<!-- raw HTML omitted -->开始活动<!-- raw HTML omitted -->。把活动页面显示在屏幕上，进入<!-- raw HTML omitted -->就绪状态<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onResume<!-- raw HTML omitted -->：<!-- raw HTML omitted -->恢复活动<!-- raw HTML omitted -->。使活动页面进入<!-- raw HTML omitted -->活动状态<!-- raw HTML omitted -->（如绘制动画等），能够与用户正常交互，例如能响应用户的点击动作，允许用户输入文字等等。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onPause<!-- raw HTML omitted -->：<!-- raw HTML omitted -->暂停活动<!-- raw HTML omitted -->。页面进入<!-- raw HTML omitted -->暂停状态<!-- raw HTML omitted -->，无法与用户正常交互。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onStop<!-- raw HTML omitted -->：<!-- raw HTML omitted -->停止活动<!-- raw HTML omitted -->。页面将不在屏幕上显示。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onDestory<!-- raw HTML omitted -->：<!-- raw HTML omitted -->销毁活动<!-- raw HTML omitted -->。回收活动占用的系统资源，把页面从内存中删除。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onRestart<!-- raw HTML omitted -->：<!-- raw HTML omitted -->重新启动<!-- raw HTML omitted -->。重新加载内存中的页面数据。</p>
</li>
<li>
<p><!-- raw HTML omitted -->onNewIntent<!-- raw HTML omitted -->：<!-- raw HTML omitted -->重用已有<!-- raw HTML omitted -->的<!-- raw HTML omitted -->活动<!-- raw HTML omitted -->示例。</p>
</li>
</ul>
</li>
<li>
<p><strong>通过实践来理解</strong></p>
<ul>
<li>
<p>将上一小节的ActStartActivity . java文件中修改成：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.util.Log;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActStartActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span>  <span style="color:#66d9ef">final</span> String TAG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ning&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {<span style="color:#75715e">//savedInstanceState是一个Bundle对象，它提供了一种键值对的方式来存储和检索数据,用于在Activity的生命周期中保存和恢复状态。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onCreate&#34;</span>);<span style="color:#75715e">//Log:日志 .Log.d ()：打印一些调试信息</span>
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_start</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_act_next</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStart</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onStart</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onStart&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResume</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onResume</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onResume&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPause</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onPause</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onPause&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStop</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onStop</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onStop&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onDestroy</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onDestroy</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onDestroy&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onRestart</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onRestart</span>();
</span></span><span style="display:flex;"><span>        Log.<span style="color:#a6e22e">d</span>(TAG,<span style="color:#e6db74">&#34;ActStartActivity onRestart&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>接着运行该程序，并在如下位置查看程序运行时的相关信息：<!-- raw HTML omitted -->Log.d( )的值<!-- raw HTML omitted --></p>
<ul>
<li>
<p>首先，在程序运行后，点击如图所示的<!-- raw HTML omitted -->Logcat<!-- raw HTML omitted --></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20184955.png?raw=true" alt=""></p>
</li>
<li>
<p>接着，在如图所示的位置输入：<!-- raw HTML omitted -->tag:ning<!-- raw HTML omitted -->（ning是在上述代码中定义的String类型变量TAG的值），即可查看Log.d( )的值</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20185454.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
<ol>
<li>
<p>当程序刚运行时，能够看到：</p>
<p>依次执行了<!-- raw HTML omitted -->onCreate( )<!-- raw HTML omitted --> , <!-- raw HTML omitted -->onStart( )<!-- raw HTML omitted --> ,<!-- raw HTML omitted --> onResume( )<!-- raw HTML omitted -->方法，然后程序才开始运行(<!-- raw HTML omitted -->Activity is running<!-- raw HTML omitted -->)，符合上图的顺序。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20185458.png?raw=true" alt=""></p>
</li>
<li>
<p>当点击当前页面（ActStartActivity）的按钮时，会跳转到下一个页面，能够看到：</p>
<p>当跳转到下一个界面时(<!-- raw HTML omitted -->Another activity comes in front of the activity<!-- raw HTML omitted -->)，依次执行了<!-- raw HTML omitted -->onPause( )<!-- raw HTML omitted -->和<!-- raw HTML omitted -->onStop( )<!-- raw HTML omitted -->，也符合上图顺序。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20191421.png?raw=true" alt=""></p>
</li>
<li>
<p>当点击当前界面（ActFinishActivity）的按钮返回时：</p>
<p>当返回到上一个界面时(<!-- raw HTML omitted -->The activity comes to the foreground<!-- raw HTML omitted -->)，依次执行<!-- raw HTML omitted -->onRestart( )<!-- raw HTML omitted --> , <!-- raw HTML omitted -->onStart( )<!-- raw HTML omitted --> , <!-- raw HTML omitted -->onResume( )<!-- raw HTML omitted -->。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20192913.png?raw=true" alt=""></p>
<p>符合下图中<!-- raw HTML omitted -->标红<!-- raw HTML omitted -->的路径：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20174753%20-%20%E5%89%AF%E6%9C%AC.png?raw=true" alt=""></p>
</li>
<li>
<p>当点击按钮<!-- raw HTML omitted -->跳转到下一个界面<!-- raw HTML omitted -->，在当前页面的<!-- raw HTML omitted -->onStop( )还未执行<!-- raw HTML omitted -->时<!-- raw HTML omitted -->又马上返回<!-- raw HTML omitted -->当前界面时：</p>
<p>操作方法：按下<!-- raw HTML omitted -->按钮<!-- raw HTML omitted -->跳转后，又<!-- raw HTML omitted -->迅速<!-- raw HTML omitted -->按下<!-- raw HTML omitted -->手机的返回键<!-- raw HTML omitted -->（<!-- raw HTML omitted -->设置底部导航的方式<!-- raw HTML omitted --> 见上方的”学习前的声明“）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20194418.png?raw=true" alt=""></p>
<p>当在ActStartActivity页面按下跳转按钮后，首先执行了<!-- raw HTML omitted -->onPause( )<!-- raw HTML omitted -->，当还未来得及执行onStop( )时，又迅速按下手机底部导航栏的返回键，此时先前ActStartActivity仍存在，故只需再执行<!-- raw HTML omitted -->onResume( )<!-- raw HTML omitted -->即可.</p>
</li>
<li>
<p>当在执行一个程序时，若内存空间不够了(<!-- raw HTML omitted -->Other applications need memory<!-- raw HTML omitted -->)，系统则会将挂在后台的程序清除(<!-- raw HTML omitted -->Process is killed<!-- raw HTML omitted -->)，从而腾出空间供当前的程序使用，若之后再打开后台被清除的程序，则将重新执行<!-- raw HTML omitted -->onCreate( )<!-- raw HTML omitted --> , <!-- raw HTML omitted -->onStart( )<!-- raw HTML omitted --> , <!-- raw HTML omitted -->onResume( )<!-- raw HTML omitted -->方法。此过程即下图标红的过程。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-11%20174753%20-%20%E5%89%AF%E6%9C%AC%20%282%29.png?raw=true" alt=""></p>
</li>
</ol>
<h4 id="213-activity的启动模式">
<a class="header-anchor" href="#213-activity%e7%9a%84%e5%90%af%e5%8a%a8%e6%a8%a1%e5%bc%8f"></a>
2.1.3 Activity的启动模式
</h4><ul>
<li>
<p><strong>在配置文件中指定启动模式</strong></p>
<p>打开<!-- raw HTML omitted -->AndroidMainifest.xml<!-- raw HTML omitted -->，给activity结点添加属性<!-- raw HTML omitted -->android:launchMode<!-- raw HTML omitted -->即可改变Activity的启动模式，不添加属性时<!-- raw HTML omitted -->默认是标准模式<!-- raw HTML omitted -->（属性值为standard）。具体示例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;activity</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActStartActivity&#34;</span> <span style="color:#a6e22e">android:launchMode=</span><span style="color:#e6db74">&#34;standard&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>以下是常见的几种属性值：</p>
<ul>
<li>
<p><strong>默认启动模式standard</strong></p>
<ul>
<li>
<p>在该模式下，启动的Activity会<!-- raw HTML omitted -->按照顺序被依次压入栈中<!-- raw HTML omitted -->（会出现<!-- raw HTML omitted -->重复创建<!-- raw HTML omitted -->Activity的情况）：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20185836.png?raw=true" alt=""></p>
</li>
</ul>
</li>
<li>
<p><strong>栈顶复用模式singleTop</strong></p>
<ul>
<li>
<p>在该模式下，如果<!-- raw HTML omitted -->栈顶<!-- raw HTML omitted -->为我们要创建的Activity（<!-- raw HTML omitted -->目标<!-- raw HTML omitted -->Activity），那么就<!-- raw HTML omitted -->不会重复创建<!-- raw HTML omitted -->新的Activity：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20190437.png?raw=true" alt=""></p>
</li>
<li>
<p>应用场景：适合开启渠道多、<!-- raw HTML omitted -->多应用能够开启调用<!-- raw HTML omitted -->的Activity（如微信支付、支付宝支付的页面），通过这种设置可以避免已经创建过的Activity被重复创建，这种模式<!-- raw HTML omitted -->通常<!-- raw HTML omitted -->通过<!-- raw HTML omitted -->动态设置<!-- raw HTML omitted -->使用。</p>
</li>
</ul>
</li>
<li>
<p><strong>栈内复用模式singleTask</strong></p>
<ul>
<li>与singleTop模式相似，只不过<!-- raw HTML omitted -->singleTop模式只针对栈顶元素<!-- raw HTML omitted -->，而在singleTask模式下，如果task栈发内部存在目标Activity示例，则跳转到目标Activity时，将会把task内Activity实例之上的<!-- raw HTML omitted -->所有其他Activity弹出栈<!-- raw HTML omitted -->，并将对应Activity置于栈顶。</li>
</ul>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20191818.png?raw=true" alt=""></p>
<ul>
<li>
<p>应用场景：</p>
<ul>
<li>
<p><strong>程序主界面</strong>：我们通常不希望主界面被创建多次，并且我们还希望主界面退出的时候就退出整个App。</p>
</li>
<li>
<p><strong>耗费系统资源</strong>的Activity：对于那些耗费系统资源的Activity，我们可以考虑将其设为singleTask模式，<!-- raw HTML omitted -->减少资源耗费<!-- raw HTML omitted -->，</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>全局唯一模式singlelelnstance</strong></p>
<ul>
<li>在该模式下，我们会为目标Activity<!-- raw HTML omitted -->创建一个新的Task栈<!-- raw HTML omitted -->，将目标Activity放入新的Task，并让目标Activity始终为新栈的栈顶，即<!-- raw HTML omitted -->新的Task有且仅有这一个Activity实例<!-- raw HTML omitted -->。如果已经创建过目标Activity实例，则不会创建新的Task，而是将以前创建过的Activity唤醒。当目标Activity被关闭时，其所在的Task也会一并被清除。</li>
</ul>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20192928.png?raw=true" alt=""></p>
<ul>
<li>
<p>实例</p>
<ul>
<li>将Acticity3设置为singleinstance，Activity1和Activity2设置为standard，在下放的流程图中，黄色的代表Background（后台）的Task，蓝色的代表Foreground（前台）的Task。返回时会先把Foreground的Task中的Activity弹出，直到Task销毁，然后才将Background的Task唤到前台，最后将Activity销毁之后，会直接退出应用。</li>
</ul>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20193823.png?raw=true" alt=""></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-15%20193910.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>在java文件中动态设置启动模式</strong></p>
<p>设置方式：以上一小节的ActStartActivity .  java为例，在onClick方法中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();<span style="color:#75715e">//创建一个意图对象，准备跳到指定的活动页面</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">addFlags</span>(Intent.<span style="color:#a6e22e">FLAG_ACTIVITY_CLEAR_TOP</span>);<span style="color:#75715e">//设置启动标志（以属性值FLAG_ACTIVITY_CLEAR_TOP为例）</span>
</span></span><span style="display:flex;"><span>        startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});<span style="color:#75715e">//跳转到意图对象指定的活动页面</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>常见的几种<strong>Intent类的启动标志</strong>：</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Intent类的启动标志</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>FLAG_ACTIVITY_NEW_TASK</strong></td>
          <td>开辟一个新的任务栈，该值<!-- raw HTML omitted -->类似于launchMode=&ldquo;standard&rdquo; <!-- raw HTML omitted -->; <!-- raw HTML omitted -->不同之处<!-- raw HTML omitted -->在于，如果原来不存在活动栈，则会创建一个新栈</td>
      </tr>
      <tr>
          <td><strong>FLAG_ACTIVITY_SINGLE_TOP</strong></td>
          <td>当栈顶为待跳转的活动实例之时，则重用栈顶的实例。该值<!-- raw HTML omitted -->等效于launchMode=&ldquo;singleTop&rdquo;<!-- raw HTML omitted --></td>
      </tr>
      <tr>
          <td><strong>FLAG_ACTIVITY_CLEAR_TOP</strong></td>
          <td>当栈中存在待跳转的活动实例时，则会重新创建一个新的实例，并清除原实例上方的所有实例。该值<!-- raw HTML omitted -->与launchMode=&ldquo;singleTask&quot;类似<!-- raw HTML omitted -->，但singleTask采取的是onNewIntent方法启用原任务，而FLAG_ACTIVITY_CLEAR_TOP采取先调用onDestory再调用onCreate来创建新任务。</td>
      </tr>
      <tr>
          <td><strong>FLAG_ACTIVITY_NO_HISTORY</strong></td>
          <td>该标志与<!-- raw HTML omitted -->launchMode=&ldquo;standard&quot;情况类似<!-- raw HTML omitted -->，但栈中<!-- raw HTML omitted -->不保存新启动的活动实例<!-- raw HTML omitted -->。这样下次无论以何种方式再启动该实例，也要走standard模式的完整流程。</td>
      </tr>
      <tr>
          <td><strong>FLAG_ACTIVITY_CLEAR_TASK</strong></td>
          <td>该标志非常暴力，<!-- raw HTML omitted -->跳转到新页面<!-- raw HTML omitted -->时，栈中的<!-- raw HTML omitted -->原有实例都将被清空<!-- raw HTML omitted -->。注意，该标志<!-- raw HTML omitted -->需要结合FLAG_ACTIVITY_NEW_TASK使用<!-- raw HTML omitted -->，即setFlags方法的参数为&rdquo;<strong>Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK</strong>&rdquo;</td>
      </tr>
  </tbody>
</table>
<ul>
<li>
<p>实例一：将<strong>FLAG_ACTIVITY_CLEAR_TOP</strong> 应用于两个页面的跳转</p>
<ul>
<li>
<p>优点：可避免页面重复返回</p>
</li>
<li>
<p>代码示例：仍然以上一小节的ActStartActivity . java为例，在onClick方法中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();<span style="color:#75715e">//创建一个意图对象，准备跳到指定的活动页面</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//当栈中存在待跳转的活动实例时，则重新创建该活动的实例，并清除原实例上方的所有实例</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">addFlags</span>(Intent.<span style="color:#a6e22e">FLAG_ACTIVITY_CLEAR_TOP</span>);<span style="color:#75715e">//设置启动标志</span>
</span></span><span style="display:flex;"><span>        startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});<span style="color:#75715e">//跳转到意图对象指定的活动页面</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div></li>
<li>
<p><strong>运行结果</strong>：将ActStartActivity和ActFinishActivity页面分别简称为A、B，当经历以下跳转过程时：A -&gt; B -&gt;A -&gt;B ，再<!-- raw HTML omitted -->由B返回A<!-- raw HTML omitted -->（按下虚拟机的底部导航栏的返回键，而不是Activity上的Button来返回）时，<!-- raw HTML omitted -->此时再由A界面按下返回，则程序会直接退出<!-- raw HTML omitted -->，而不是再次返回A上一个的界面B。</p>
</li>
</ul>
</li>
<li>
<p>实例二：将<strong>FLAG_ACTIVITY_CLEAR_TASK</strong> 与<strong>FLAG_ACTIVITY_NEW_TASK</strong>结合，实现<strong>登录成功后不再返回登录页面</strong> 的效果</p>
<ul>
<li>
<p>原因：用户登录成功后，App已经默认用户是登录状态了，此时用户不必再返回登录界面重复登录，故从登录成功后进去的页面返回时，应该直接退出App，而不是再次返回登录界面。</p>
</li>
<li>
<p>代码示例：仍然以上一小节的ActStartActivity . java为例，在onClick方法中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();<span style="color:#75715e">//创建一个意图对象，准备跳到指定的活动页面</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//跳转到新界面时，栈中的所有实例被清空，同时开辟新的任务栈，新的任务栈中只有登录成功的页面这一个页面</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">addFlags</span>(Intent.<span style="color:#a6e22e">FLAG_ACTIVITY_CLEAR_TASK</span> <span style="color:#f92672">|</span> Intent.<span style="color:#a6e22e">FLAG_ACTIVITY_NEW_TASK</span>);<span style="color:#75715e">//设置启动标志</span>
</span></span><span style="display:flex;"><span>        startActivities(<span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">[]</span>{intent});<span style="color:#75715e">//跳转到意图对象指定的活动页面</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div></li>
<li>
<p><strong>运行结果</strong> ：此时将ActStartActivity和ActFinishActivity页面分别作为登录界面和登录成功页面，当进入登录成功页面（ActFinishActivity页面）后，再按下手机的底部导航栏的返回按钮，此时App直接退出而不是返回登录页面（ActStartActivity页面）</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="22-在活动之间传递消息">
<a class="header-anchor" href="#22-%e5%9c%a8%e6%b4%bb%e5%8a%a8%e4%b9%8b%e9%97%b4%e4%bc%a0%e9%80%92%e6%b6%88%e6%81%af"></a>
2.2 在活动之间传递消息
</h3><h4 id="221-显式intent和隐式intent">
<a class="header-anchor" href="#221-%e6%98%be%e5%bc%8fintent%e5%92%8c%e9%9a%90%e5%bc%8fintent"></a>
2.2.1 显式Intent和隐式Intent
</h4><ul>
<li>
<p>了解Intent</p>
<ul>
<li>
<p>Intent是各个组件之间信息沟通的桥梁，它用于Android各组件之间的通信，主要完成下列工作;</p>
<ul>
<li>
<p>标明<!-- raw HTML omitted -->本次通信<!-- raw HTML omitted -->请求<!-- raw HTML omitted -->从哪里来<!-- raw HTML omitted -->、<!-- raw HTML omitted -->到哪里去<!-- raw HTML omitted -->、要<!-- raw HTML omitted -->怎么走<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>发起方携带数据内容，<!-- raw HTML omitted -->接受方<!-- raw HTML omitted -->从收到的意图<!-- raw HTML omitted -->Intent中解析数据<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>发起方若想判断接收方的处理结果，意图Intent就要负责让接收方<!-- raw HTML omitted -->传回应答的数据内容<!-- raw HTML omitted -->。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Intent的组成部分</strong></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-16%20210920.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>显式Intent</strong></p>
<ul>
<li>
<p><strong>显式Intent</strong> 可直接指定来源活动与目标活动，属于<!-- raw HTML omitted -->精确匹配<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>在构建一个意图对象时，需要<!-- raw HTML omitted -->指定两个参数<!-- raw HTML omitted -->，第一个参数表示跳转的<!-- raw HTML omitted -->来源页面<!-- raw HTML omitted -->，即&quot;来源Activity.this&quot;；第二个参数表示<!-- raw HTML omitted -->待跳转的页面<!-- raw HTML omitted -->，即&quot;目标Activity.class&quot;。具体的意图构建方式有如下3种（一般写在onClick方法里）：</p>
<ol>
<li>
<p>在Intent的构造函数中指定，实例代码如下（ActFinishActivity为待跳转的页面）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span></code></pre></div></li>
<li>
<p>调用意图对象的setClass方法来指定，实例代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();<span style="color:#75715e">//创建一个新意图</span>
</span></span><span style="display:flex;"><span>intent.<span style="color:#a6e22e">setClass</span>(<span style="color:#66d9ef">this</span>,ActFinishActivity.<span style="color:#a6e22e">class</span>);<span style="color:#75715e">//设置意图要跳转的目标活动</span>
</span></span></code></pre></div></li>
<li>
<p>调用意图对象的setComponent方法来指定，实例代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>ComponentName component <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ComponentName(<span style="color:#66d9ef">this</span>, ActFinishActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>intent.<span style="color:#a6e22e">setComponent</span>(component);
</span></span><span style="display:flex;"><span>startActivity(intent);
</span></span></code></pre></div></li>
</ol>
</li>
<li>
<p>三种方式的区别：<!-- raw HTML omitted -->前两种方式类似<!-- raw HTML omitted -->，而<!-- raw HTML omitted -->第三种<!-- raw HTML omitted -->除了具有前两种方式的功能（传上下文的Activity）之外，还可用于<!-- raw HTML omitted -->不知道Activity的类名<!-- raw HTML omitted -->（前两种方式要跳转到的目标Activity和当前Activity是同时编译的，故已知目标Activity的类名），<!-- raw HTML omitted -->只知道包名<!-- raw HTML omitted -->(string类型）的情况：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ComponentName</span>(<span style="color:#a6e22e">@NonNull</span> String pkg, <span style="color:#a6e22e">@NonNull</span> String cls) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(<span style="color:#e6db74">&#34;Stub!&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>假设需要跳转到的目标Activity是一个<!-- raw HTML omitted -->系统应用<!-- raw HTML omitted -->的Activity，则此时只知道其包名而未知类名，故可用第三种方法。</p>
</li>
</ul>
</li>
<li>
<p><strong>隐式Intent</strong></p>
<ul>
<li>
<p><strong>隐式Intent</strong> 没有明确指定要跳转的目标活动，只给出一个动作字符让系统自带匹配，属于<!-- raw HTML omitted -->模糊匹配<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>通常App<!-- raw HTML omitted -->不希望向外部暴露Activity的名称<!-- raw HTML omitted -->，只给出一个事先定义好的<!-- raw HTML omitted -->标记串<!-- raw HTML omitted -->，这样在需要使用时只需按照约定俗成的标记串名称按图索骥即可，<!-- raw HTML omitted -->隐式Intent<!-- raw HTML omitted -->便起到了标记<!-- raw HTML omitted -->过滤作用<!-- raw HTML omitted -->。动作名称标记串可以是直接定义的动作，也可以是已有的系统动作，常见的<!-- raw HTML omitted -->系统动作<!-- raw HTML omitted -->的取值如下图所示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-17%20122220.png?raw=true" alt=""></p>
<ul>
<li>动作名称既可以通过setAction方法指定，也可以通过构造函数Intent（String action）直接生成意图对象，如：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//1.通过setAction方法指定</span>
</span></span><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>intent.<span style="color:#a6e22e">setAction</span>((Intent.<span style="color:#a6e22e">ACTION_DIAL</span>));
</span></span><span style="display:flex;"><span><span style="color:#75715e">//2.通过构造函数Intent（String action）直接生成意图对象</span>
</span></span><span style="display:flex;"><span>Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(Intent.<span style="color:#a6e22e">ACTION_DIAL</span>);
</span></span></code></pre></div></li>
<li>
<p>由于动作是<!-- raw HTML omitted -->模糊匹配<!-- raw HTML omitted -->，因此<!-- raw HTML omitted -->需要更详细的路径<!-- raw HTML omitted -->，比如我们知道一个人住在某小区，还需要知道他住在哪一期、哪一栋、哪一层、哪个门牌号才能找到他。<!-- raw HTML omitted -->Uri<!-- raw HTML omitted -->和<!-- raw HTML omitted -->Category<!-- raw HTML omitted -->便是这样的路径和门类信息。<!-- raw HTML omitted -->Uri数据<!-- raw HTML omitted -->可通过<!-- raw HTML omitted -->构造函数Intent<!-- raw HTML omitted -->（String action，Uri uri）在生成对象时一起指定，也可通过<!-- raw HTML omitted -->setData方法<!-- raw HTML omitted -->指定（注：setData这个名字有歧义，实际含义相当于setUri）；<!-- raw HTML omitted -->Category<!-- raw HTML omitted -->可通过<!-- raw HTML omitted -->addCategory方法<!-- raw HTML omitted -->指定，之所以用add而不用set方法，是因为<!-- raw HTML omitted -->一个意图允许设置多个Category<!-- raw HTML omitted -->，方便一起过滤。</p>
<ul>
<li>
<p>下面是一个调用系统拨号程序的例子，其中用到了Uri：</p>
<ul>
<li>
<p>xml文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击以下按钮向号码12345发起请求&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_dial&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;跳到拨号页面&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.net.Uri;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActionUrlActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActyity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_action_url</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_dial</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        String phoneNo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12345&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_dial</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setAction</span>((Intent.<span style="color:#a6e22e">ACTION_DIAL</span>));
</span></span><span style="display:flex;"><span>            Uri uri <span style="color:#f92672">=</span> Uri.<span style="color:#a6e22e">parse</span>(<span style="color:#e6db74">&#34;tel:&#34;</span> <span style="color:#f92672">+</span> phoneNo);
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setData</span>(uri);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>运行结果：按下按钮后将跳转到如下界面，并已经拨好了号：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-17%20124601.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>隐式Activity还用到了过滤器的概念，把不符合匹配条件的过滤掉，剩下符合条件的按照优先顺序调用。譬如创建一个App模块，AndroidMainfest . xml里的intent-filter就是配置文件中的过滤器（filter是过滤器的意思）。像最常见的首页活动MainActivity，它的activity节点下面便设置了action和category的过滤条件。其中android.intent.action.MAIN表示App的入口动作，而android.intent.category.LAUNCHER表示在桌面上显示App图标，配置样例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;activity</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.MainActivity&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;intent-filter</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.MAIN&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.LAUNCHER&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/activity&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>隐式Intent的使用示例：</p>
<ul>
<li>
<p>xml文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:padding=</span><span style="color:#e6db74">&#34;5dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击以下按钮向号码12345发起请求&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_dial&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;跳到拨号页面&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_sms&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;跳到短信页面&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_my&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;跳到我的页面&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.net.Uri;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActionUrlActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_action_url</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_dial</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_sms</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_my</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        String phoneNo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12345&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_dial</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setAction</span>((Intent.<span style="color:#a6e22e">ACTION_DIAL</span>));
</span></span><span style="display:flex;"><span>            Uri uri <span style="color:#f92672">=</span> Uri.<span style="color:#a6e22e">parse</span>(<span style="color:#e6db74">&#34;tel:&#34;</span> <span style="color:#f92672">+</span> phoneNo);
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setData</span>(uri);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_sms</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setAction</span>((Intent.<span style="color:#a6e22e">ACTION_SENDTO</span>));
</span></span><span style="display:flex;"><span>            Uri uri2 <span style="color:#f92672">=</span> Uri.<span style="color:#a6e22e">parse</span>(<span style="color:#e6db74">&#34;smsto:&#34;</span> <span style="color:#f92672">+</span> phoneNo);<span style="color:#75715e">//跳到给号码phoneNo发送短信的界面</span>
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setData</span>(uri2);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_my</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">setAction</span>(<span style="color:#e6db74">&#34;android.intent.action.NING&#34;</span>);
</span></span><span style="display:flex;"><span>            intent.<span style="color:#a6e22e">addCategory</span>(Intent.<span style="color:#a6e22e">CATEGORY_DEFAULT</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>此外，为实现第三个按钮的功能（按钮一二实现的都是跳转到系统应用，按钮三跳转的是非系统应用），以第一章节写的应用&quot;chapter03&quot;(应用名)为例，若想跳到该应用，还需在该应用的AndroidMainfest . xml中的主界面下放新增：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.NING&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.DEFAULT&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>并且将<span style="color:#f92672">&lt;mark&gt;</span>exported<span style="color:#f92672">&lt;/mark&gt;</span>设置为<span style="color:#f92672">&lt;mark&gt;</span>true<span style="color:#f92672">&lt;/mark&gt;</span> 。（允许其他应用来启动该Activity）。
</span></span></code></pre></div></li>
<li>
<p>总代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;manifest</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;application</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:allowBackup=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:label=</span><span style="color:#e6db74">&#34;@string/app_name&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:roundIcon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher_round&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:supportsRtl=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;@style/Theme.MyApplication01&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.CalculatorActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.MAIN&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.LAUNCHER&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.NING&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.DEFAULT&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/activity&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/manifest&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>最终效果：</p>
<ul>
<li>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-17%20131810.png?raw=true" alt=""></p>
</li>
<li>
<p>第一个按钮效果与上文相同。</p>
</li>
<li>
<p>当点击第二个按钮时,会跳转到如下给号码12345发送短信的界面：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-17%20131955.png?raw=true" alt=""></p>
</li>
<li>
<p>当点击第三个按钮时，会跳转到想要的非系统应用，以上文写的应用名为&quot;chapter03&quot;的计算器为例。（若无法跳转，则需要先发表运行chapter03非系统应用，并将其挂在后台；再发布运行当前按钮所在的界面，然后再点击跳转）：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-17%20132357.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="222-向下一个activity传递数据">
<a class="header-anchor" href="#222-%e5%90%91%e4%b8%8b%e4%b8%80%e4%b8%aaactivity%e4%bc%a0%e9%80%92%e6%95%b0%e6%8d%ae"></a>
2.2.2 向下一个Activity传递数据
</h4><ul>
<li>
<p><!-- raw HTML omitted -->Intent<!-- raw HTML omitted -->使用<!-- raw HTML omitted -->Bundle<!-- raw HTML omitted -->对象<!-- raw HTML omitted -->存放待传递的数据<!-- raw HTML omitted -->信息。（Bundle类型的对象在Android开发中非常常见，它的作用主要时用于<!-- raw HTML omitted -->传递数据<!-- raw HTML omitted -->。）,可把Bundle理解”<!-- raw HTML omitted -->包裹<!-- raw HTML omitted -->“，可携带着需要传递的内容在不同的Activity传递。</p>
</li>
<li>
<p>Bundle对象操作各类型数据的读写方法如下表所示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20175106.png?raw=true" alt=""></p>
</li>
<li>
<p>实例：使用bundle在不同Activity间传递String类型的数据。</p>
<ul>
<li>
<p>初始界面ActSendActivity:</p>
<ul>
<li>
<p>xml文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_send&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;今天天气真不错&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_send&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击发送以上文字&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActSendActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_send;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_send</span>);
</span></span><span style="display:flex;"><span>        Button btn_send<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_send</span>);
</span></span><span style="display:flex;"><span>        tv_send <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_send</span>);
</span></span><span style="display:flex;"><span>        btn_send.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//设置将要传递消息和跳转的界面</span>
</span></span><span style="display:flex;"><span>        Intent intent<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Intent(<span style="color:#66d9ef">this</span>, ActReceiveActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        Bundle bundle<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Bundle();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//创建一个新包裹</span>
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;request_time&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>());<span style="color:#75715e">//往包裹中写入数据</span>
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;request_content&#34;</span>,tv_send.<span style="color:#a6e22e">getText</span>().<span style="color:#a6e22e">toString</span>());
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">putExtras</span>(bundle);<span style="color:#75715e">//将包裹打包</span>
</span></span><span style="display:flex;"><span>        startActivity(intent);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
</li>
<li>
<p>待传递的界面ActReceiveActivity：</p>
<ul>
<li>
<p>xml文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_receive&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textSize=</span><span style="color:#e6db74">&#34;17sp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:textColor=</span><span style="color:#e6db74">&#34;@color/black&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActReceiveActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_receive;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_receive</span>);
</span></span><span style="display:flex;"><span>        tv_receive <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_receive</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//从上一个页面传来的意图中获取包裹</span>
</span></span><span style="display:flex;"><span>        Bundle bundle <span style="color:#f92672">=</span> getIntent().<span style="color:#a6e22e">getExtras</span>();
</span></span><span style="display:flex;"><span>        String request_time <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;request_time&#34;</span>);<span style="color:#75715e">//从包裹中取出数据</span>
</span></span><span style="display:flex;"><span>        String request_content <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;request_content&#34;</span>);
</span></span><span style="display:flex;"><span>        String desc <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;收到请求消息：\n请求时间为:%s\n请求内容为:%s&#34;</span>,request_time,request_content);<span style="color:#75715e">//格式化字符串</span>
</span></span><span style="display:flex;"><span>        tv_receive.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>别忘了在AndroidMainfest . xml文件中同时加上两个Activity的java文件名：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20181522.png?raw=true" alt=""></p>
</li>
<li>
<p>注意：如果新建了与第一节不同的Moldule，需要将之前写过的DateUtil . java文件复制到该Module中，才可以在1.4.1小节之中写的DateUtil.getNowTime()来获取当前时间。</p>
</li>
<li>
<p>运行结果，当点击第一个页面的按钮后，会跳转到下一个界面，并成功传递&quot;request_time&quot;和&quot;request_content&quot;数据：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-18%20182456.png?raw=true" alt=""></p>
</li>
</ul>
<h4 id="223-向上一个activity返回数据">
<a class="header-anchor" href="#223-%e5%90%91%e4%b8%8a%e4%b8%80%e4%b8%aaactivity%e8%bf%94%e5%9b%9e%e6%95%b0%e6%8d%ae"></a>
2.2.3 向上一个Activity返回数据
</h4><ul>
<li>
<p>处理下一个页面的返回（应答）数据，详细步骤说明如下：</p>
<ul>
<li>
<p>上一个页面打包好请求数据，调用<!-- raw HTML omitted -->startActivityForResult方法<!-- raw HTML omitted -->执行<!-- raw HTML omitted -->跳转动作<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>下一个页面<!-- raw HTML omitted -->接收并解析请求数据<!-- raw HTML omitted -->，进行相应处理。</p>
</li>
<li>
<p>下一个页面在返回上一个页面时，打包应答数据并调<!-- raw HTML omitted -->用setResult方法返回数据包裹<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>上一个页面重写方法<!-- raw HTML omitted -->onActivityResult<!-- raw HTML omitted -->（已过时，下面将使用最新的方法），<!-- raw HTML omitted -->解析获得<!-- raw HTML omitted -->下一个页面的<!-- raw HTML omitted -->返回数据<!-- raw HTML omitted -->。</p>
</li>
</ul>
</li>
<li>
<p>实例</p>
<ul>
<li>
<p><strong>上一个页面</strong></p>
<ul>
<li>
<p>xml文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--    传给下一个界面的请求消息--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_request&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_request&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击传送请求数据&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--    接受的返回消息--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_response&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.app.Activity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.activity.result.ActivityResult;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.activity.result.ActivityResultCallback;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.activity.result.ActivityResultLauncher;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.activity.result.contract.ActivityResultContracts;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActRequestActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String mRequest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;这是请求消息&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ActivityResultLauncher<span style="color:#f92672">&lt;</span>Intent<span style="color:#f92672">&gt;</span> register;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView tv_response;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_requet</span>);
</span></span><span style="display:flex;"><span>        TextView tv_request <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_request</span>);
</span></span><span style="display:flex;"><span>        tv_request.<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;待发送的消息为: &#34;</span> <span style="color:#f92672">+</span> mRequest);
</span></span><span style="display:flex;"><span>        tv_response <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_response</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_request</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//4.上一个页面重写方法onActivityResult&lt;/mark&gt;，&lt;mark&gt;解析获得下一个页面的&lt;mark&gt;返回数据&lt;/mark&gt;。</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//startActivityForResult()方法已经过时无法使用，以下为新的代替方式：</span>
</span></span><span style="display:flex;"><span>        register <span style="color:#f92672">=</span> registerForActivityResult(<span style="color:#66d9ef">new</span> ActivityResultContracts.<span style="color:#a6e22e">StartActivityForResult</span>(), result <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//result -&gt; 是lambda表达式的形式</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(result <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>                Intent intent <span style="color:#f92672">=</span> result.<span style="color:#a6e22e">getData</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(intent <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> result.<span style="color:#a6e22e">getResultCode</span>()<span style="color:#f92672">==</span> Activity.<span style="color:#a6e22e">RESULT_OK</span>){
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//返回的内容不为空且处理正常</span>
</span></span><span style="display:flex;"><span>                    Bundle bundle <span style="color:#f92672">=</span> intent.<span style="color:#a6e22e">getExtras</span>();<span style="color:#75715e">//此时已经创建了Intent对象，使用intent即可，不需要使用getIntent()</span>
</span></span><span style="display:flex;"><span>                    String response_time <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;response_time&#34;</span>);<span style="color:#75715e">//根据键值&#34;response_time&#34;,从包裹中取出数据</span>
</span></span><span style="display:flex;"><span>                    String response_content <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;response_content&#34;</span>);
</span></span><span style="display:flex;"><span>                    String desc <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;收到返回消息：\n返回时间为:%s\n返回内容为:%s&#34;</span>,response_time,response_content);<span style="color:#75715e">//格式化字符串</span>
</span></span><span style="display:flex;"><span>                    tv_response.<span style="color:#a6e22e">setText</span>(desc);<span style="color:#75715e">//将其请求消息显示在文本视图上</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//1.上一个页面打包好请求数据，调用startActivityForResult方法&gt;执行跳转动作。</span>
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(<span style="color:#66d9ef">this</span>,ActResponseActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//创建一个新包裹</span>
</span></span><span style="display:flex;"><span>        Bundle bundle<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Bundle();
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;request_time&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>());<span style="color:#75715e">//往包裹中写入数据</span>
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;request_content&#34;</span>,mRequest);
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">putExtras</span>(bundle);<span style="color:#75715e">//将包裹打包</span>
</span></span><span style="display:flex;"><span>        register.<span style="color:#a6e22e">launch</span>(intent);<span style="color:#75715e">//startActivityForResult()方法的新的替代方式</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
</li>
<li>
<p>下一个界面</p>
<ul>
<li>
<p>xml文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--    从上一个界面传来的请求消息--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_request&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_response&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:gravity=</span><span style="color:#e6db74">&#34;center&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;点击返回应答数据&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--    传给下一个界面的返回消息--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_response&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.app.Activity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> util.DateUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ActResponseActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String mResponse<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;这是回复消息&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_act_response</span>);
</span></span><span style="display:flex;"><span>        TextView tv_request<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_request</span>);
</span></span><span style="display:flex;"><span>        TextView tv_response<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_response</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//2.下一个页面接收并解析请求数据，进行相应处理。</span>
</span></span><span style="display:flex;"><span>        Bundle bundle <span style="color:#f92672">=</span> getIntent().<span style="color:#a6e22e">getExtras</span>();
</span></span><span style="display:flex;"><span>        String request_time <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;request_time&#34;</span>);<span style="color:#75715e">//从包裹中取出数据</span>
</span></span><span style="display:flex;"><span>        String request_content <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;request_content&#34;</span>);
</span></span><span style="display:flex;"><span>        String desc <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;收到请求消息：\n请求时间为:%s\n请求内容为:%s&#34;</span>,request_time,request_content);<span style="color:#75715e">//格式化字符串</span>
</span></span><span style="display:flex;"><span>        tv_request.<span style="color:#a6e22e">setText</span>(desc);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_response</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        tv_response.<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;待发送的消息为：&#34;</span> <span style="color:#f92672">+</span> mResponse);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//3.下一个页面在返回上一个页面时，打包应答数据并调用setResult方法返回数据包裹。</span>
</span></span><span style="display:flex;"><span>        Intent intent<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Intent();
</span></span><span style="display:flex;"><span>        Bundle bundle <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Bundle();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//创建一个新包裹</span>
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;response_time&#34;</span>, DateUtil.<span style="color:#a6e22e">getNowTime</span>());<span style="color:#75715e">//把DateUtil.getNowTime()的值赋值给response_time</span>
</span></span><span style="display:flex;"><span>        bundle.<span style="color:#a6e22e">putString</span>(<span style="color:#e6db74">&#34;response_content&#34;</span>,mResponse);
</span></span><span style="display:flex;"><span>        setResult(Activity.<span style="color:#a6e22e">RESULT_OK</span>,intent);<span style="color:#75715e">//携带意图返回上一个页面。RESULT_OK表示处理成功</span>
</span></span><span style="display:flex;"><span>        intent.<span style="color:#a6e22e">putExtras</span>(bundle);<span style="color:#75715e">//将包裹打包</span>
</span></span><span style="display:flex;"><span>        finish();<span style="color:#75715e">//通过关闭该界面从而回到上一个界面</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>最终结果：</p>
<ul>
<li>
<p>程序刚运行时，显示的是上一个页面：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-20%20211241.png?raw=true" alt=""></p>
</li>
<li>
<p>点击按钮，进入下一个页面，同时显示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-20%20211455.png?raw=true" alt=""></p>
</li>
<li>
<p>再次单击按钮，返回上一个页面，并且显示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-20%20211629.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
<h3 id="23-为活动补充附加信息">
<a class="header-anchor" href="#23-%e4%b8%ba%e6%b4%bb%e5%8a%a8%e8%a1%a5%e5%85%85%e9%99%84%e5%8a%a0%e4%bf%a1%e6%81%af"></a>
2.3 为活动补充附加信息
</h3><h4 id="231-利用资源文件配置字符串">
<a class="header-anchor" href="#231-%e5%88%a9%e7%94%a8%e8%b5%84%e6%ba%90%e6%96%87%e4%bb%b6%e9%85%8d%e7%bd%ae%e5%ad%97%e7%ac%a6%e4%b8%b2"></a>
2.3.1 利用资源文件配置字符串
</h4><ul>
<li>
<p>将String放到strings . xml文件再来读取，而不是放在代码中的原因：Java代码需要编译才能运行，若进行修改则需要重新编译才能运行；配置文件（如strings . xml)不需要编码便能运行，方便灵活地进行修改。</p>
</li>
<li>
<p>例子：</p>
<ul>
<li>
<p>首先，在strings . xml文件中，加上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;weather&#34;</span><span style="color:#f92672">&gt;</span>晴天<span style="color:#f92672">&lt;/string&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>其次，在xml文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_resource&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>最后，在java文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReadStringActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_read_string</span>);
</span></span><span style="display:flex;"><span>        String value <span style="color:#f92672">=</span> getString(R.<span style="color:#a6e22e">string</span>.<span style="color:#a6e22e">weather</span>);
</span></span><span style="display:flex;"><span>        TextView tv_resourse <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_resource</span>);
</span></span><span style="display:flex;"><span>        tv_resourse.<span style="color:#a6e22e">setText</span>(value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>最终即可显示所设置的文字内容。</p>
</li>
</ul>
</li>
</ul>
<h4 id="232-利用元数据传递配置信息">
<a class="header-anchor" href="#232-%e5%88%a9%e7%94%a8%e5%85%83%e6%95%b0%e6%8d%ae%e4%bc%a0%e9%80%92%e9%85%8d%e7%bd%ae%e4%bf%a1%e6%81%af"></a>
2.3.2 利用元数据传递配置信息
</h4><ul>
<li>
<p><strong>使用场景</strong></p>
<ul>
<li>
<p>当我们的应用<!-- raw HTML omitted -->需要使用<!-- raw HTML omitted -->到<!-- raw HTML omitted -->第三方应用的SDK<!-- raw HTML omitted -->（<strong>Software Development Kit</strong>，即<strong>软件开发工具包</strong>）时就需要使用元数据（meta-data）传递配置信息。</p>
</li>
<li>
<p>如开发的应用需要嵌入高德地图的功能、需要使用微信进行第三方登录，此时都需要使用这些应用提供好的工具包。因为并不是任意用户都可以使用这些第三方应用的功能的，所以需要去这些应用的官网上<!-- raw HTML omitted -->下载其SDK并注册<!-- raw HTML omitted -->，接着我们会获得网站给的每个用户独有的唯一<!-- raw HTML omitted -->Token<!-- raw HTML omitted -->(令牌)值，接着才能使用该第三方应用的功能。最后，当我们的应用使用该第三方应用的功能时，服务器首先<!-- raw HTML omitted -->收到请求<!-- raw HTML omitted -->，接着会<!-- raw HTML omitted -->验证<!-- raw HTML omitted -->使用其功能的Activity使用的Token值是否与注册的值相匹配，最后即可使用该第三方应用，并且服务器会<!-- raw HTML omitted -->记录<!-- raw HTML omitted -->我们使用其功能的情况。</p>
</li>
</ul>
</li>
<li>
<p><strong>在代码中获取元数据</strong></p>
<p>在Java代码中，获取元数据信息的步骤分为下列三步：</p>
<ul>
<li>
<p>调用<!-- raw HTML omitted -->getPackageManager<!-- raw HTML omitted -->方法<!-- raw HTML omitted -->获得<!-- raw HTML omitted -->当前应用的<!-- raw HTML omitted -->包管理器<!-- raw HTML omitted -->；</p>
</li>
<li>
<p>调用包管理器的<!-- raw HTML omitted -->getActivityInfo<!-- raw HTML omitted -->方法获得<!-- raw HTML omitted -->当前活动的信息<!-- raw HTML omitted -->对象；</p>
</li>
<li>
<p>活动信息对象的<!-- raw HTML omitted -->metaData<!-- raw HTML omitted -->是Bundle包裹类型，调用包裹对象的<!-- raw HTML omitted -->getString<!-- raw HTML omitted -->即可获得指定名称的参数值。</p>
</li>
</ul>
</li>
<li>
<p><strong>示例</strong></p>
<ul>
<li>
<p>首先，在AndroidManifest . xml中，在当前的Acticity(示例名为MetaDataActivity，且为主Activity)下方加上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;meta-data</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;weather&#34;</span> <span style="color:#a6e22e">android:value=</span><span style="color:#e6db74">&#34;多云&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>总的代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;manifest</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;application</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:allowBackup=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:label=</span><span style="color:#e6db74">&#34;@string/app_name&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:roundIcon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher_round&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:supportsRtl=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;@style/Theme.MyApplication01&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActResponseActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;@style/Theme.MyApplication01&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 主Activity--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.MetaDataActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:launchMode=</span><span style="color:#e6db74">&#34;standard&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.MAIN&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.LAUNCHER&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;meta-data</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;weather&#34;</span> <span style="color:#a6e22e">android:value=</span><span style="color:#e6db74">&#34;多云&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/activity&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/manifest&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>xml文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;TextView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/tv_meta&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.activity_learning;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.pm.ActivityInfo;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.pm.PackageManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MetaDataActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_meta_data</span>);
</span></span><span style="display:flex;"><span>        TextView tv_meta<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">tv_meta</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//1.调用getPackageManager方法获得当前应用的包管理器</span>
</span></span><span style="display:flex;"><span>        PackageManager pm<span style="color:#f92672">=</span> getPackageManager();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {<span style="color:#75715e">//2.调用包管理器的getActivityInfo方法获得当前活动的信息</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//Activity也是组件(Component)，故getComponentName()表示获取当前Activity的名称;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//getActivityInfo的第二个参数指想要获取Activity的什么信息，实例中是获取其的meta-data信息</span>
</span></span><span style="display:flex;"><span>            ActivityInfo info <span style="color:#f92672">=</span> pm.<span style="color:#a6e22e">getActivityInfo</span>(getComponentName(), PackageManager.<span style="color:#a6e22e">GET_META_DATA</span>);
</span></span><span style="display:flex;"><span>            Bundle bundle <span style="color:#f92672">=</span> info.<span style="color:#a6e22e">metaData</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//3.调用包裹对象的getString即可获得指定名称的参数值</span>
</span></span><span style="display:flex;"><span>            String weather <span style="color:#f92672">=</span> bundle.<span style="color:#a6e22e">getString</span>(<span style="color:#e6db74">&#34;weather&#34;</span>);
</span></span><span style="display:flex;"><span>            tv_meta.<span style="color:#a6e22e">setText</span>(weather);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (PackageManager.<span style="color:#a6e22e">NameNotFoundException</span> e) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h4 id="233-给应用页面注册快捷方式">
<a class="header-anchor" href="#233-%e7%bb%99%e5%ba%94%e7%94%a8%e9%a1%b5%e9%9d%a2%e6%b3%a8%e5%86%8c%e5%bf%ab%e6%8d%b7%e6%96%b9%e5%bc%8f"></a>
2.3.3 给应用页面注册快捷方式
</h4><ul>
<li>
<p>元数据不仅能够传递简单的字符串参数，还能传送更复杂的资源数据，比如支付宝的快捷方式菜单：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20140108.png?raw=true" alt=""></p>
</li>
<li>
<p>示例</p>
<ul>
<li>
<p>首先，在res目录中新建一个名为&quot;<!-- raw HTML omitted -->xml<!-- raw HTML omitted -->&ldquo;的<!-- raw HTML omitted -->文件夹<!-- raw HTML omitted -->：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20140410.png?raw=true" alt=""></p>
</li>
<li>
<p>接着，在xml文件夹中新建一个xml文件，依次进行操作：<!-- raw HTML omitted -->右键点击<!-- raw HTML omitted -->xml文件夹-&gt;<!-- raw HTML omitted -->New<!-- raw HTML omitted -->-&gt;<!-- raw HTML omitted -->XML<!-- raw HTML omitted -->-&gt;<!-- raw HTML omitted -->values XML File<!-- raw HTML omitted -->，并命名为：shortcuts.xml（shortcut：快捷方式)。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20140547.png?raw=true" alt=""></p>
</li>
<li>
<p>在shortcuts.xml中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;shortcuts</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;shortcut</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutId=</span><span style="color:#e6db74">&#34;first&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:enabled=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutShortLabel=</span><span style="color:#e6db74">&#34;@string/first_short&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutLongLabel=</span><span style="color:#e6db74">&#34;@string/first_long&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;intent</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:action=</span><span style="color:#e6db74">&#34;android.intent.action.VIEW&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetClass=</span><span style="color:#e6db74">&#34;com.example.activity_learning.ActStartActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetPackage=</span><span style="color:#e6db74">&#34;com.example.activity_learning&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;categories</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.shortcut.conversation&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/shortcut&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;shortcut</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutId=</span><span style="color:#e6db74">&#34;second&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:enabled=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutShortLabel=</span><span style="color:#e6db74">&#34;@string/second_short&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutLongLabel=</span><span style="color:#e6db74">&#34;@string/second_long&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;intent</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:action=</span><span style="color:#e6db74">&#34;android.intent.action.VIEW&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetClass=</span><span style="color:#e6db74">&#34;com.example.activity_learning.ActRequestActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetPackage=</span><span style="color:#e6db74">&#34;com.example.activity_learning&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;categories</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.shortcut.conversation&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/shortcut&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;shortcut</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutId=</span><span style="color:#e6db74">&#34;third&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:enabled=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutShortLabel=</span><span style="color:#e6db74">&#34;@string/third_short&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:shortcutLongLabel=</span><span style="color:#e6db74">&#34;@string/third_long&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;intent</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:action=</span><span style="color:#e6db74">&#34;android.intent.action.VIEW&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetClass=</span><span style="color:#e6db74">&#34;com.example.activity_learning.ActSendActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:targetPackage=</span><span style="color:#e6db74">&#34;com.example.activity_learning&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;categories</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.shortcut.conversation&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/shortcut&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/shortcuts&gt;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>android:enabled</strong> ：是否<!-- raw HTML omitted -->启用<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>android:icon</strong> ：该快捷方式对应的<!-- raw HTML omitted -->图标<!-- raw HTML omitted --></p>
</li>
<li>
<p><strong>android:shortcutLongLabel</strong>：该快捷方式的<!-- raw HTML omitted -->长名称<!-- raw HTML omitted -->（<!-- raw HTML omitted -->默认<!-- raw HTML omitted -->使用长名称），只能用<!-- raw HTML omitted -->strings.xml文件中定义的字符串给其赋值<!-- raw HTML omitted -->。</p>
</li>
<li>
<p><strong>android:shortcutShortLabel</strong>：该快捷方式的<!-- raw HTML omitted -->短名称<!-- raw HTML omitted -->（当长名称的字数超过限制时，则启用短名称），只能用strings.xml文件中定义的字符串给其赋值。</p>
</li>
<li>
<p><strong>android:targetClass</strong>：要<!-- raw HTML omitted -->跳转的目标页面<!-- raw HTML omitted -->，其值的格式为：目标页面所在包名.目标页面名。</p>
</li>
<li>
<p><strong>android:targetPackage</strong>：要跳转的目标包名。</p>
</li>
</ul>
</li>
<li>
<p>为了给<strong>shortcutLongLabel</strong>  和<strong>shortcutShortLabel</strong> 赋值，还需要在strings.xml文件中加上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;app_name&#34;</span><span style="color:#f92672">&gt;</span>Activity_Learning<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;first_short&#34;</span><span style="color:#f92672">&gt;</span>first<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;first_long&#34;</span><span style="color:#f92672">&gt;</span>页面1<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;second_short&#34;</span><span style="color:#f92672">&gt;</span>second<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;second_long&#34;</span><span style="color:#f92672">&gt;</span>页面2<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;third_short&#34;</span><span style="color:#f92672">&gt;</span>third<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;third_long&#34;</span><span style="color:#f92672">&gt;</span>页面3<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/resources&gt;</span> 
</span></span></code></pre></div></li>
<li>
<p>接着，在AndroidMainfest.xml文件中:</p>
<ul>
<li>
<p>首先，给主Activity（示例中以ActStartActivity为主Activity）定义快捷方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;meta-data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.app.shortcuts&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:resource=</span><span style="color:#e6db74">&#34;@xml/shortcuts&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>接着，注册添加快捷方式将要跳转的Activity（示例中使用.ActResponseActivit、ActSendActivity、ActRequestActivity），并将其的exported值设置为&quot;true&rdquo;：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActResponseActivity&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActSendActivity&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActRequestActivity&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>最终，总的代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;manifest</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;application</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:allowBackup=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:icon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:label=</span><span style="color:#e6db74">&#34;@string/app_name&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:roundIcon=</span><span style="color:#e6db74">&#34;@mipmap/ic_launcher_round&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:supportsRtl=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;@style/Theme.MyApplication01&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActResponseActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;false&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActSendActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActRequestActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- 主Activity--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;activity</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;.ActStartActivity&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:exported=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;intent-filter&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.action.MAIN&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;category</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.intent.category.LAUNCHER&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/intent-filter&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--        定义长按图标时跳出的快捷方式    --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;meta-data</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.app.shortcuts&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">android:resource=</span><span style="color:#e6db74">&#34;@xml/shortcuts&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/activity&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/manifest&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>其中android:theme属性值中的MyApplication01为整个的安卓文件名，读者应改为自己的。</p>
</li>
</ul>
</li>
<li>
<p>最终效果</p>
<ul>
<li>
<p>首先，先在虚拟机上找到自己的应用的图标：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20145905.png?raw=true" alt=""></p>
</li>
<li>
<p>如何得知应用名：如图，Activity_Learning为应用名，而ActStartActivity为其主界面（不要将ActStartActivity与MyApplication01混淆为应用名）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20145746.png?raw=true" alt=""></p>
</li>
<li>
<p>最后，当长按应用的图标时，会出现如下三个快捷方式，且点击相应的图标可以跳转到相应的界面。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-22%20145939.png?raw=true" alt=""></p>
</li>
</ul>
</li>
</ul>
<h2 id="3-中级控件">
<a class="header-anchor" href="#3-%e4%b8%ad%e7%ba%a7%e6%8e%a7%e4%bb%b6"></a>
3. 中级控件
</h2><h3 id="31-图形定制">
<a class="header-anchor" href="#31-%e5%9b%be%e5%bd%a2%e5%ae%9a%e5%88%b6"></a>
3.1 图形定制
</h3><h4 id="311-图形drawable">
<a class="header-anchor" href="#311-%e5%9b%be%e5%bd%a2drawable"></a>
3.1.1 图形Drawable
</h4><ul>
<li>
<p><strong>Android</strong> 把所有<!-- raw HTML omitted -->能够显示的图形<!-- raw HTML omitted -->（不止是图片，还包括色块、画板、背景等）都<!-- raw HTML omitted -->抽象为Drawable<!-- raw HTML omitted -->（可绘制的）<!-- raw HTML omitted -->类<!-- raw HTML omitted -->。</p>
</li>
<li>
<p>包括图片文件在内的<!-- raw HTML omitted -->图形文件<!-- raw HTML omitted -->放在<!-- raw HTML omitted -->res目录的各个drawable目录下<!-- raw HTML omitted -->，例如：</p>
<ul>
<li>
<p><!-- raw HTML omitted -->drawable-ldpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->低分辨率<!-- raw HTML omitted -->的图片（如240×320），现在基本没有这样的智能手机了。</p>
</li>
<li>
<p><!-- raw HTML omitted -->drawable-mdpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->中等分辨率<!-- raw HTML omitted -->的图片（如320×480），现在这样的智能手机已经很少了。</p>
</li>
<li>
<p><!-- raw HTML omitted -->drawable-hdpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->高分辨率<!-- raw HTML omitted -->的图片（如480×800），一般对应4英寸到4.5英寸的手机（但不绝对，同尺寸的手机有可能分辨率不同，且手机分辨率只会高不会低，因为分辨率低了屏幕显示就会模糊）。</p>
</li>
<li>
<p><!-- raw HTML omitted -->drawable-xdpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->加高分辨率<!-- raw HTML omitted -->的图片（如720×1280），一般对应5英寸到5.5英寸的手机。</p>
</li>
<li>
<p><!-- raw HTML omitted -->drawable-xxdpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->超高分辨率<!-- raw HTML omitted -->的图片（如1080×1920），一般对应6英寸到5.5英寸的手机。</p>
</li>
<li>
<p><!-- raw HTML omitted -->drawable-xxxdpi<!-- raw HTML omitted -->：存放<!-- raw HTML omitted -->超超高分辨率<!-- raw HTML omitted -->的图片（如1440×2560），一般对应 7英寸以的平板电脑。</p>
</li>
</ul>
</li>
<li>
<p>当各目录存放<!-- raw HTML omitted -->同名图片<!-- raw HTML omitted -->，Android就会<!-- raw HTML omitted -->根据手机的分辨率分别适配<!-- raw HTML omitted -->对应文件夹里的图片。在开发App时，为了兼容不同的手机屏幕，在各目录存放不同分辨率的图片，才能达到最合适的显示效果，当找不到合适分辨率的图片时，设备显示的图片则会变模糊。</p>
</li>
<li>
<p>在<!-- raw HTML omitted -->XML布局文件中引用图形文件<!-- raw HTML omitted -->可使用&quot;<!-- raw HTML omitted -->@drawable/不含扩展名的文件名称<!-- raw HTML omitted -->&ldquo;这种形式，如各视图的bcakground属性、ImageView和ImageButton的src属性、TextView和Button四个方向的drawable系列属性都可以引用图形文件。</p>
</li>
</ul>
<h4 id="312-形状图形">
<a class="header-anchor" href="#312-%e5%bd%a2%e7%8a%b6%e5%9b%be%e5%bd%a2"></a>
3.1.2 形状图形
</h4><ul>
<li>
<p>Shape图形又称形状图形，它用来描述常见的几何形状，包括矩形、圆角矩形、圆形、椭圆等等。</p>
</li>
<li>
<p>形状图形的定义文件是以shape标签为根节点的XML表述文件，它支持四种类型的形状：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-23%20194424.png?raw=true" alt=""></p>
<ul>
<li>
<p>rectangle;矩形，默认值</p>
</li>
<li>
<p>oval：椭圆。此时corners（圆角）节点会失效。</p>
</li>
<li>
<p>line：直线。此时必须设置stroke节点，不然会报错。</p>
</li>
<li>
<p>ring：圆环。</p>
</li>
</ul>
</li>
<li>
<p>示例：</p>
<ul>
<li>
<p>首先，按照如图所示方法在drawable文件夹中新建两个Drawable Resource File文件，并分别命名（示例中分别为shape_oval_rose和shape_rec_gold）和设置根节点为shape：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-23%20192744.png?raw=true" alt=""></p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-23%20192313.png?raw=true" alt=""></p>
<ul>
<li>
<p>shape_oval_rose.xml文件的代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;shape</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:shape=</span><span style="color:#e6db74">&#34;oval&#34;</span><span style="color:#f92672">&gt;</span><span style="color:#75715e">&lt;!--指定形状，有四种可选择--&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--指定了形状内部的填充颜色--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;solid</span> <span style="color:#a6e22e">android:color=</span><span style="color:#e6db74">&#34;#ff66aa&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--指定了形状轮廓的粗细与颜色--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;stroke</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:width=</span><span style="color:#e6db74">&#34;1dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:color=</span><span style="color:#e6db74">&#34;#aaaaaa&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/shape&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>shape_rec_gold.xml文件的代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;shape</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--指定了形状内部的填充颜色--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;solid</span> <span style="color:#a6e22e">android:color=</span><span style="color:#e6db74">&#34;#ffdd66&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--指定了形状轮廓的粗细与颜色--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;stroke</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:width=</span><span style="color:#e6db74">&#34;1dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:color=</span><span style="color:#e6db74">&#34;#aaaaaa&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--指定了形状四个圆角的半径--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;corners</span> <span style="color:#a6e22e">android:radius=</span><span style="color:#e6db74">&#34;40dp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/shape&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>接着，xml代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;View</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/v_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;200dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_margin=</span><span style="color:#e6db74">&#34;10dp&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;horizontal&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_rect&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;圆角矩形背景&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/btn_oval&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;0dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_weight=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;椭圆背景&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java代码为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.control_widget;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DrawableShapeActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity <span style="color:#66d9ef">implements</span> View.<span style="color:#a6e22e">OnClickListener</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> View v_content;<span style="color:#75715e">//定义为全局变量</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_drawable_shape</span>);
</span></span><span style="display:flex;"><span>        v_content <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">v_content</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_oval</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>        findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_rect</span>).<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_oval</span>){
</span></span><span style="display:flex;"><span>            v_content.<span style="color:#a6e22e">setBackgroundResource</span>(R.<span style="color:#a6e22e">drawable</span>.<span style="color:#a6e22e">shape_oval_rose</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(view.<span style="color:#a6e22e">getId</span>() <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">btn_rect</span>){
</span></span><span style="display:flex;"><span>            v_content.<span style="color:#a6e22e">setBackgroundResource</span>(R.<span style="color:#a6e22e">drawable</span>.<span style="color:#a6e22e">shape_rec_gold</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>最终，当点击第一个按钮时显示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-23%20194445.png?raw=true" alt=""></p>
<p>点击第二个按钮时显示：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-23%20194454.png?raw=true" alt=""></p>
</li>
<li>
<p><strong>涉及的节点和属性</strong></p>
<ul>
<li>
<p><strong>size（尺寸）</strong></p>
<ul>
<li>
<p>描述了形状图形的<!-- raw HTML omitted -->宽高尺寸<!-- raw HTML omitted -->，若无size节点，则表示宽高与宿主视图一样大小。下面是size节点常用的属性说明：</p>
<ul>
<li>
<p><strong>height</strong>：像素类型，图形高度。</p>
</li>
<li>
<p><strong>width</strong>：像素类型，图形宽度</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>stroke（描边）</strong></p>
<ul>
<li>
<p>stroke是<!-- raw HTML omitted -->shape的下级节点<!-- raw HTML omitted -->（<!-- raw HTML omitted -->写在shape内部<!-- raw HTML omitted -->），它描述了形状图形的<!-- raw HTML omitted -->描边规格<!-- raw HTML omitted -->。若<!-- raw HTML omitted -->无stroke节点，则表示不存在描边<!-- raw HTML omitted -->，下面是stroke节点的常用属性说明：</p>
<ul>
<li>
<p><strong>color</strong>：表示<!-- raw HTML omitted -->描边的颜色<!-- raw HTML omitted -->，为颜色类型。</p>
</li>
<li>
<p><strong>dashGap</strong>：表示用来<!-- raw HTML omitted -->描边的每段虚线之间的间隔<!-- raw HTML omitted -->，为像素类型。</p>
</li>
<li>
<p><strong>dashWidth</strong>：表示用来描边的每段<!-- raw HTML omitted -->虚线的宽度<!-- raw HTML omitted -->。若dashGap和dashWidth有一个值为0，则描边为实现。</p>
</li>
<li>
<p><strong>width</strong>：像素类型，<!-- raw HTML omitted -->描边的厚度<!-- raw HTML omitted -->。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>corners</strong>（圆角）</p>
<ul>
<li>
<p>corners是shape的下级节点，描述了形状图形的<strong>圆角大小</strong>，若<!-- raw HTML omitted -->无corners节点，则表示没有圆角<!-- raw HTML omitted -->。下面是corners节点的常用属性说明：</p>
<ul>
<li>
<p><strong>bottomLeftRadius</strong>：像素类型，<!-- raw HTML omitted -->左下圆角<!-- raw HTML omitted -->的半径。</p>
</li>
<li>
<p><strong>bottomRightRadius</strong>：像素类型，<!-- raw HTML omitted -->右下圆角<!-- raw HTML omitted -->的半径。</p>
</li>
<li>
<p><strong>topRightRadius</strong>：像素类型，<!-- raw HTML omitted -->右上圆角<!-- raw HTML omitted -->的半径。</p>
</li>
<li>
<p><strong>topLeftRadius</strong>：像素类型，<!-- raw HTML omitted -->左上圆角<!-- raw HTML omitted -->的半径。</p>
</li>
<li>
<p><strong>radius</strong>：像素类型，表示<!-- raw HTML omitted -->四个圆角的半径<!-- raw HTML omitted -->（若有上面四个圆角半径的定义，则不需要radius定义）。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>solid（填充）</strong></p>
<ul>
<li>
<p>solid是shape的下级节点，描述了形状图形的<!-- raw HTML omitted -->填充色彩<!-- raw HTML omitted -->。若<!-- raw HTML omitted -->无solid节点，则表示无填充颜色<!-- raw HTML omitted -->。下面是solid节点的常用属性说明。</p>
<ul>
<li><strong>color</strong>：颜色类型，内部填充的颜色。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>gradient（渐变）</strong></p>
<ul>
<li>
<p>gradient是shape的下级节点，描述了形状图形的<!-- raw HTML omitted -->颜色渐变<!-- raw HTML omitted -->，若<!-- raw HTML omitted -->无gradient节点，则表示没有渐变效果<!-- raw HTML omitted -->。下面是gradient节点的常用属性说明。</p>
<ul>
<li>
<p><strong>angle</strong>：整形，表示<!-- raw HTML omitted -->渐变的起始角度<!-- raw HTML omitted -->。为0时表示时钟的9点位置，值增大表示往逆时针方向旋转。例如，值为90表示6点位置，值为180表示3点位置，值为270表示0点/12点位置。</p>
</li>
<li>
<p><strong>type</strong>：字符串类型，表示<!-- raw HTML omitted -->渐变类型<!-- raw HTML omitted -->。渐变类型的取值说明如下表显示：</p>
<table>
  <thead>
      <tr>
          <th><strong>渐变类型</strong></th>
          <th><strong>说明</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>linear</td>
          <td><!-- raw HTML omitted -->线性渐变<!-- raw HTML omitted -->，默认值</td>
      </tr>
      <tr>
          <td>radial</td>
          <td><!-- raw HTML omitted -->放射渐变<!-- raw HTML omitted -->，起始颜色就是圆心颜色</td>
      </tr>
      <tr>
          <td>sweep</td>
          <td><!-- raw HTML omitted -->滚动渐变<!-- raw HTML omitted -->，即一个线段以某个端点为圆心做360度旋转</td>
      </tr>
  </tbody>
</table>
</li>
<li>
<p>centerX：浮点型，表示<!-- raw HTML omitted -->渐变圆心的X坐标<!-- raw HTML omitted -->。当android:type=&ldquo;linear&quot;时不可用。</p>
</li>
<li>
<p>centerY：浮点型，表示<!-- raw HTML omitted -->渐变圆心的Y坐标<!-- raw HTML omitted -->。当android:type=&ldquo;linear&quot;时不可用。</p>
</li>
<li>
<p>gradientRadius：整型，表示<!-- raw HTML omitted -->渐变的半径<!-- raw HTML omitted -->。当android:type=&ldquo;radial&quot;时需要设置该属性。</p>
</li>
<li>
<p>centerColor：颜色类型，表示<!-- raw HTML omitted -->渐变的中间颜色<!-- raw HTML omitted -->（只能设置一次）。</p>
</li>
<li>
<p>startColor：颜色类型，表示<!-- raw HTML omitted -->渐变的起始颜色<!-- raw HTML omitted -->（只能设置一次）。</p>
</li>
<li>
<p>endColor：颜色类型，表示<!-- raw HTML omitted -->渐变的终止颜色<!-- raw HTML omitted -->（只能设置一次）。</p>
</li>
<li>
<p>useLevel：布尔类型，设置<!-- raw HTML omitted -->为true为无渐变色<!-- raw HTML omitted -->，false为有渐变色。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>在实际开发中，形状图形<!-- raw HTML omitted -->主要<!-- raw HTML omitted -->使用3个节点：<!-- raw HTML omitted -->stroke<!-- raw HTML omitted -->（描边)、<!-- raw HTML omitted -->corners<!-- raw HTML omitted -->（圆角)和<!-- raw HTML omitted -->solid<!-- raw HTML omitted -->(填充)。至于shape根根节点的属性一般不用设置（默认矩形即可）。</p>
</li>
</ul>
<h4 id="313-九宫格图片点9图片">
<a class="header-anchor" href="#313-%e4%b9%9d%e5%ae%ab%e6%a0%bc%e5%9b%be%e7%89%87%e7%82%b99%e5%9b%be%e7%89%87"></a>
3.1.3 九宫格图片（点9图片）
</h4><ul>
<li>
<p><strong>使用场景</strong>：将某张图片设置成视图背景时，如果图片的尺寸太小，则系统会自动拉伸图片使之填满背景，可说的图片一旦<!-- raw HTML omitted -->拉伸得过大<!-- raw HTML omitted -->，其画面又容易<!-- raw HTML omitted -->模糊<!-- raw HTML omitted -->，此时就需要使用九宫格图片。又称之为点9图片的原因是其文件名的后缀带有 <!-- raw HTML omitted -->.9<!-- raw HTML omitted --> 。</p>
</li>
<li>
<p>例子：</p>
<ul>
<li>
<p>首先，在res文件夹中再新建一个名为drawable-xhdpi的文件夹（需要选择Project模式才能看到该文件夹）：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20202004.png?raw=true" alt=""></p>
</li>
</ul>
</li>
<li>
<p>接着，将需要设置为视图背景的<!-- raw HTML omitted -->图片放到drawable-xhdpi文件夹中<!-- raw HTML omitted -->，接着<!-- raw HTML omitted -->右键<!-- raw HTML omitted -->点击该图片，选择<!-- raw HTML omitted -->New<!-- raw HTML omitted -->，再选择<!-- raw HTML omitted -->Create 9-Patch file<!-- raw HTML omitted -->，即可将其转化为点9文件，会发现其<!-- raw HTML omitted -->后缀名多了一个.9<!-- raw HTML omitted -->（注意，最后将转化成的<!-- raw HTML omitted -->点9文件<!-- raw HTML omitted -->设置<!-- raw HTML omitted -->与原图不同的文件名<!-- raw HTML omitted -->，否则之后进行引用时容易与原图的文件名产生冲突）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20194355.png?raw=true" alt=""></p>
<ul>
<li>
<p>点击点9图片即可进入图片的<!-- raw HTML omitted -->加工区<!-- raw HTML omitted -->域。加工区域的右侧窗口是图片的预览区域，将<!-- raw HTML omitted -->鼠标放到左侧窗口的图片的上、下、左、右<!-- raw HTML omitted -->位置均会出现<!-- raw HTML omitted -->灰框<!-- raw HTML omitted -->，其功能分别为：</p>
<ul>
<li>
<p><strong>上边</strong>：指<!-- raw HTML omitted -->水平方向的拉伸区域<!-- raw HTML omitted -->。水平方向拉伸区域时，只有<!-- raw HTML omitted -->灰色框<!-- raw HTML omitted -->区域内的图像<!-- raw HTML omitted -->会拉伸<!-- raw HTML omitted -->，<!-- raw HTML omitted -->灰框之外<!-- raw HTML omitted -->的图像将会<!-- raw HTML omitted -->保持原状<!-- raw HTML omitted -->，从而保证左右两侧的边框宽度不变（可通过鼠标调整灰框的大小）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20205021.png?raw=true" alt=""></p>
</li>
<li>
<p>左边：指<!-- raw HTML omitted -->垂直方向的拉伸区域<!-- raw HTML omitted -->。垂直方向拉伸区域时，只有灰色框区域内的图像会拉伸，灰框之外的图像将会保持原状，从而保证左右两侧的边框高度度不变（可通过鼠标调整灰框的大小）。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20205107.png?raw=true" alt=""></p>
</li>
<li>
<p>下边：指将该图片作为控件背景时，<!-- raw HTML omitted -->控件内部的文字左右边界只能放到灰框区域内<!-- raw HTML omitted -->。这里的<!-- raw HTML omitted -->Horizontal Padding<!-- raw HTML omitted -->的效果就相当于<!-- raw HTML omitted -->android:paddingLeft与android:paddingRight<!-- raw HTML omitted -->。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20205140.png?raw=true" alt=""></p>
</li>
<li>
<p>右边：指将该图片作为控件背景时，控件内部的文字<!-- raw HTML omitted -->上下边界<!-- raw HTML omitted -->只能放到灰框区域内。这里的<!-- raw HTML omitted -->Vertical Padding<!-- raw HTML omitted -->的效果就相当于<!-- raw HTML omitted -->android:paddingTop与android:paddingBottom<!-- raw HTML omitted -->。</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20205205.png?raw=true" alt=""></p>
<ul>
<li>注意：如果将<!-- raw HTML omitted -->点9图片<!-- raw HTML omitted -->设置为视图背景，且该图片<!-- raw HTML omitted -->指定了Horizontal Padding和Vertical Padding<!-- raw HTML omitted -->，那么视图内部将一直与视图边缘保持固定间距，此时将<!-- raw HTML omitted -->无法通过XML文件和Java文件来改变间隔<!-- raw HTML omitted -->，因为点9图片已经在水平和垂直方向都设置了padding，因此若想XML文件和Java文件堆视图背景设置的padding起作用，则不能在点9图片中指定Horizontal Padding和Vertical Padding（即鼠标点击下边和右边时显示的灰框）。</li>
</ul>
</li>
</ul>
<p>接着，在AndroidManifest.xml文件中修改activity的主题，这样才能显示出按钮的背景图：</p>
<p>首先在<!-- raw HTML omitted -->AndroidManifest.xml中按下ctrl后用鼠标左键<!-- raw HTML omitted -->点击该位置：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20200050.png?raw=true" alt=""></p>
<p>接着将如图的位置改成图中的代码：</p>
<p><img src="https://github.com/meeting77smile/Android-Learning/blob/main/note/images/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-10-24%20200210.png?raw=true" alt=""></p>
</li>
</ul>
</li>
<li>
<p>之后，xml为（其中button_nomal_orig和button_nomal_nine分别为<!-- raw HTML omitted -->原图片<!-- raw HTML omitted -->和<!-- raw HTML omitted -->点9图片<!-- raw HTML omitted -->的文件名，读者<!-- raw HTML omitted -->需改为自己的文件名<!-- raw HTML omitted -->）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:orientation=</span><span style="color:#e6db74">&#34;vertical&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;@drawable/button_nomal_nine&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;普通背景图片&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_marginTop=</span><span style="color:#e6db74">&#34;5dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;@drawable/button_nomal_nine&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;九宫格图片背景&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>java文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.control_widget;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DrawableNineActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">activity_drawable_nine</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>最终运行代码，比较原图作为按钮和点9图片作为视图背景的差异。</p>
</li>
</ul>
</div>
    <footer class="article-footer"><ul class="article-tag-list" itemprop="keywords"></ul>
</footer>
  </div><nav
    id="article-nav"
    data-aos="fade-up"
  ><div class="article-nav-link-wrap article-nav-link-left"><img
            data-src="https://img0.baidu.com/it/u=523234089,1058084480&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=1029"
            data-sizes="auto"
            alt="HTML5&#43;CSS3入门"
            class="lazyload"
          /><a href="/post/html5&#43;css3%E5%85%A5%E9%97%A8/"></a>
        <div class="article-nav-caption">前一篇</div>
        <h3 class="article-nav-title">HTML5&#43;CSS3入门</h3>
      </div><div class="article-nav-link-wrap article-nav-link-right"><img
            data-src="https://img0.baidu.com/it/u=545831937,3950968936&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=1422"
            data-sizes="auto"
            alt="积语——云伴学"
            class="lazyload"
          /><a href="/post/jiyuguidebook/"></a>
        <div class="article-nav-caption">后一篇</div>
        <h3 class="article-nav-title">积语——云伴学</h3>
      </div></nav></article></section>
        </div><footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info"><div>
      <span class="icon-copyright"></span>2020-2025<span class="footer-info-sep rotate"></span>
      meeting_smile
    </div><div>
        基于&nbsp;<a
          href="https://gohugo.io/"
          target="_blank"
          >Hugo</a
        >&nbsp; Theme.<a
          href="https://github.com/D-Sketon/hugo-theme-reimu"
          target="_blank"
          >Reimu</a
        >
      </div><div>
        <span class="icon-brush"
          >&nbsp;51.5k</span
        >
        &nbsp;|&nbsp;
        <span class="icon-coffee">&nbsp;01:46</span>
      </div><div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv"
          >总访问量&nbsp;<span
            id="busuanzi_value_site_pv"
          ></span
        ></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv"
          >总访客量&nbsp;<span
            id="busuanzi_value_site_uv"
          ></span
        ></span>
      </div></div>
</footer>
<div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div><div id="mask" class="hide"></div>
      </div><nav id="mobile-nav">
  <div class="sidebar-wrap"><div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#安卓基础">安卓基础</a></li>
    <li><a href="#学习前的声明">学习前的声明</a>
      <ul>
        <li><a href="#1-语言要求">1. 语言要求</a></li>
        <li><a href="#2-设置主界面">2. 设置主界面</a></li>
        <li><a href="#3-java代码的说明">3. Java代码的说明</a></li>
        <li><a href="#4-修改虚拟机的底部导航栏">4. 修改虚拟机的底部导航栏</a></li>
        <li><a href="#5-新建moule模块">5. 新建Moule(模块)</a></li>
        <li><a href="#6-文件的命名">6. 文件的命名</a></li>
        <li><a href="#7-文件的建立">7. 文件的建立</a></li>
      </ul>
    </li>
    <li><a href="#1-简单控件">1. 简单控件</a>
      <ul>
        <li><a href="#11-文本显示">1.1 文本显示</a></li>
        <li><a href="#12-视图基础">1.2 视图基础</a></li>
        <li><a href="#13-常用布局">1.3 常用布局</a></li>
        <li><a href="#14-按钮控件button">1.4 按钮控件Button</a></li>
        <li><a href="#16-项目实践简单计算器">1.6 项目实践：简单计算器</a></li>
      </ul>
    </li>
    <li><a href="#2--activity活动">2.  Activity活动</a>
      <ul>
        <li><a href="#21-启停活动页面">2.1 启停活动页面</a></li>
        <li><a href="#22-在活动之间传递消息">2.2 在活动之间传递消息</a></li>
        <li><a href="#23-为活动补充附加信息">2.3 为活动补充附加信息</a></li>
      </ul>
    </li>
    <li><a href="#3-中级控件">3. 中级控件</a>
      <ul>
        <li><a href="#31-图形定制">3.1 图形定制</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div></div>
        <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="meeting_smile"
    class="lazyload"
  />
  <div class="sidebar-author-name">meeting_smile</div>
  <div class="sidebar-description">未来一定是要笑着谈的(*≧▽≦)ツ</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div><div class="sidebar-state-number">8</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">0</div>
  </div>
</div>
<div class="sidebar-social"></div>
<div class="sidebar-menu"><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">首页</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">归档</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">关于</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">友链</div>
    </div></div>
</div></div><div class="sidebar-btn-wrapper">
        <div class="sidebar-toc-btn current"></div>
        <div class="sidebar-common-btn"></div>
      </div></nav>
</div><div class="site-search">
        <div class="reimu-popup popup">
          <div class="reimu-search">
            <div class="reimu-search-input-icon"></div>
            <div class="reimu-search-input" id="reimu-search-input"></div>
            <div class="popup-btn-close"></div>
          </div>
          <div class="reimu-results">
            <div id="reimu-stats"></div>
            <div id="reimu-hits"></div>
            <div id="reimu-pagination" class="reimu-pagination"></div>
          </div>
          <img class="reimu-bg" src="/images/reimu.png" />
        </div>
      </div><script
    src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js"
    integrity="sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf&#43;e" crossorigin="anonymous"></script><script
    src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js"
    integrity="sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"></script><script
    src="https://npm.webcache.cn/material-theme@1.0.0/dist/material-theme.umd.js"
    integrity="sha384-vLev0II0HKFaxkcm&#43;/7kX5IGwVFBASkGchU311wmU/veIj2bB0UcBkQbW6yw2asK" crossorigin="anonymous"></script><script src="/js/main.js" ></script><script src="/js/aos.js" ></script><script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", aosInit);
    } else {
      aosInit();
    }
  </script><script src="/js/pjax_main.js" data-pjax></script><script>
    var ALGOLIA_CONFIG = {
      logo: '\/images\/algolia_logo.svg',
      algolia: {
        applicationID: "",
        apiKey: "",
        indexName: "",
        hits: {
          "per_page": parseInt("10")
        },
        labels: {
          "input_placeholder": '搜索.....',
          "hits_empty": '未发现与 「${query}」相关内容',
          "hits_stats": '找到${hits}条结果（用时 ${time} ms）'
        }
      }
    };
  </script><script
    src="https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js"
    deferintegrity="sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S&#43;jQz7ZBtQXnsXmD&#43;9jDOOY4cL6dCPzlrk" crossorigin="anonymous"></script><script
    src="https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js"
    deferintegrity="sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y&#43;KHTORelMMEn7mOp2AVPp&#43;7fr03dLgZiV3J" crossorigin="anonymous"></script><script src="/js/algolia_search.js" ></script><script
    src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js"
    integrity="sha384-8LyaidD9GPxQQgLJO/WRw/O2h3BoNq/ApI/ecpvM6RsrCz2qP2ppBXUKihP4V/2d" crossorigin="anonymous"></script><script>
  if (window.firework) {
    const options = JSON.parse("{\"excludeelements\":[\"a\",\"button\"],\"particles\":[{\"colors\":[\"var(--red-1)\",\"var(--red-2)\",\"var(--red-3)\",\"var(--red-4)\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"emit\"],\"number\":20,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.3,0.5],\"radius\":[16,32]}},{\"colors\":[\"var(--red-0)\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"diffuse\"],\"number\":1,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.2,0.5],\"lineWidth\":6,\"radius\":20}}]}");
    options.excludeElements = options.excludeelements;
    delete options.excludeelements;
    window.firework(options);
  }
</script><script>
  function initLive2d() {
    live2d.init('https:\/\/fastly.jsdelivr.net\/gh\/D-Sketon\/plugin-live2d\/', {themeTipsPath: ""});
  }
</script><script
    src="https://fastly.jsdelivr.net/gh/D-Sketon/plugin-live2d/js/live2d-autoload.js"
    asynconload="initLive2d()"></script>

<div id="lazy-script">
  <div><script data-pjax>
        window.REIMU_POST = {
          author: "meeting_smile",
          title: "Android笔记",
          url: "http:\/\/localhost:1313\/post\/android_notes\/",
          description: " 安卓基础 学习前的声明 1. 语言要求 本次学习用到的语言为Java。（Kotlin虽然为Android官方推荐语言，但Java与Kotlin的关系类似于C与C\u002b\u002b的关系，学好了Java，便能比较快地上手Kotlin） 2. 设置主界面 在AndroidManifest.xml文件中，在如图所示的位置改为想要作为主界面的的java文件名（注意别忘了名称开头要加点）\n",
          cover: "https:\/\/img2.baidu.com\/it\/u=2940854202,2684708212\u0026fm=253\u0026fmt=auto\u0026app=120\u0026f=JPEG?w=800\u0026h=800",
        };
      </script><script src="/js/insert_highlight.js" data-pjax></script><script type="module" data-pjax>const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script></div>
</div><script
    src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js"
    asyncintegrity="sha384-0M75wtSkhjIInv4coYlaJU83&#43;OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id&#43;S" crossorigin="anonymous"></script><script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then((registrations) => {
        for (let registration of registrations) {
          registration.unregister();
        }
      });
    }
  </script><script>
  const reimuCopyright = String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;
  console.log(String.raw`%c ${reimuCopyright}`, "color: #ff5252;");
  console.log(
    "%c Theme.Reimu" + " %c https://github.com/D-Sketon/hugo-theme-reimu ",
    "color: white; background: #ff5252; padding:5px 0;",
    "padding:4px;border:1px solid #ff5252;",
  );
</script></body>
</html>
